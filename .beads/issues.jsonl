{"id":"cobbler-17c","title":"GH-44: Recurring: Full requirements coverage, test coverage, and code inspection audit","description":"Perform a comprehensive audit of the cobbler-scaffold codebase covering requirements traceability, test coverage, and code quality. Coverage baseline: 31.6% (up from 24.8% at previous audit #39).\n\nGitHub: petar-djukic/cobbler-scaffold#44","status":"closed","priority":2,"issue_type":"epic","owner":"petar.djukic@gmail.com","created_at":"2026-02-27T00:21:16Z","created_by":"petardjukic","updated_at":"2026-02-27T00:27:20Z","closed_at":"2026-02-27T00:27:20Z","close_reason":"All children completed"}
{"id":"cobbler-17c.1","title":"Fix error handling and race condition issues","description":"deliverable_type: code\n\nrequired_reading:\n  - pkg/orchestrator/orchestrator.go (logf, setPhase, setGeneration global state)\n  - pkg/orchestrator/stitch.go (resetTask, cleanupWorktree, createWorktree)\n  - pkg/orchestrator/measure.go (force import error handling)\n\nfiles:\n  - path: pkg/orchestrator/orchestrator.go\n    action: modify\n    note: Protect currentGeneration, currentPhase, phaseStart with sync.RWMutex\n  - path: pkg/orchestrator/stitch.go\n    action: modify\n    note: Log resetTask branch delete error, fix cleanupWorktree ordering, return createWorktree MkdirAll error\n\nrequirements:\n  - id: R1\n    text: Protect logf global state reads (currentGeneration, currentPhase, phaseStart) with sync.RWMutex\n  - id: R2\n    text: Log error from gitForceDeleteBranch in resetTask instead of silently discarding\n  - id: R3\n    text: Return error from createWorktree when MkdirAll fails instead of logging and continuing\n  - id: R4\n    text: In cleanupWorktree only delete branch after worktree removal succeeds\n\nacceptance_criteria:\n  - id: AC1\n    text: No data races in logf when called concurrently with setPhase/setGeneration\n  - id: AC2\n    text: resetTask logs branch deletion errors\n  - id: AC3\n    text: createWorktree returns error on MkdirAll failure\n  - id: AC4\n    text: All existing tests pass","status":"closed","priority":2,"issue_type":"task","owner":"petar.djukic@gmail.com","created_at":"2026-02-27T00:21:28Z","created_by":"petardjukic","updated_at":"2026-02-27T00:23:25Z","closed_at":"2026-02-27T00:23:25Z","close_reason":"Closed","dependencies":[{"issue_id":"cobbler-17c.1","depends_on_id":"cobbler-17c","type":"parent-child","created_at":"2026-02-26T19:21:27Z","created_by":"petardjukic","metadata":"{}"}]}
{"id":"cobbler-17c.2","title":"Add unit tests for untested pure functions","description":"deliverable_type: code\n\nrequired_reading:\n  - pkg/orchestrator/version.go (readVersionConst, writeVersionConst)\n  - pkg/orchestrator/cobbler.go (historyDir, worktreeBasePath, saveHistoryStats, saveHistoryPrompt, saveHistoryLog, logLine)\n\nfiles:\n  - path: pkg/orchestrator/version_test.go\n    action: create\n    note: Tests for readVersionConst and writeVersionConst\n  - path: pkg/orchestrator/cobbler_test.go\n    action: modify\n    note: Tests for historyDir, worktreeBasePath, saveHistory*, logLine\n\nrequirements:\n  - id: R1\n    text: Test readVersionConst with valid file, missing file, and file without Version constant\n  - id: R2\n    text: Test writeVersionConst with valid replacement, missing file, and file without constant\n  - id: R3\n    text: Test historyDir with empty, absolute, and relative paths\n  - id: R4\n    text: Test worktreeBasePath returns expected temp directory path\n  - id: R5\n    text: Test saveHistoryStats, saveHistoryPrompt, saveHistoryLog write correct files and handle empty historyDir\n\nacceptance_criteria:\n  - id: AC1\n    text: All new tests pass\n  - id: AC2\n    text: All existing tests still pass\n  - id: AC3\n    text: Coverage improves from 31.6% baseline","status":"closed","priority":2,"issue_type":"task","owner":"petar.djukic@gmail.com","created_at":"2026-02-27T00:21:37Z","created_by":"petardjukic","updated_at":"2026-02-27T00:25:00Z","closed_at":"2026-02-27T00:25:00Z","close_reason":"Closed","dependencies":[{"issue_id":"cobbler-17c.2","depends_on_id":"cobbler-17c","type":"parent-child","created_at":"2026-02-26T19:21:37Z","created_by":"petardjukic","metadata":"{}"}]}
{"id":"cobbler-17c.3","title":"Write audit report and file follow-up issues","description":"deliverable_type: documentation\n\nrequired_reading:\n  - docs/audits/audit-2026-02-25-requirements.yaml (previous audit format)\n\nfiles:\n  - path: docs/audits/audit-2026-02-26-coverage-inspection.yaml\n    action: create\n    note: Audit report with coverage data, findings, and recommendations\n\nrequirements:\n  - id: R1\n    text: Record per-package coverage percentages and trend vs previous audit\n  - id: R2\n    text: List code issues found with severity and fix status\n  - id: R3\n    text: List untested critical paths with severity assessment\n  - id: R4\n    text: File GitHub issues for remaining work items not addressed in this audit\n\nacceptance_criteria:\n  - id: AC1\n    text: Audit report written to docs/audits/\n  - id: AC2\n    text: GitHub issues filed for remaining findings","status":"closed","priority":2,"issue_type":"task","owner":"petar.djukic@gmail.com","created_at":"2026-02-27T00:21:46Z","created_by":"petardjukic","updated_at":"2026-02-27T00:27:10Z","closed_at":"2026-02-27T00:27:10Z","close_reason":"Closed","dependencies":[{"issue_id":"cobbler-17c.3","depends_on_id":"cobbler-17c","type":"parent-child","created_at":"2026-02-26T19:21:45Z","created_by":"petardjukic","metadata":"{}"}],"comments":[{"id":29,"issue_id":"cobbler-17c.3","author":"petardjukic","text":"tokens: 45000","created_at":"2026-02-27T00:27:09Z"}]}
{"id":"cobbler-302","title":"GH-64: Implement TestSelectiveContext_FullPipeline e2e test","description":"## Description\n\nThe stub TestSelectiveContext_FullPipeline in tests/e2e/stitch_context_test.go was removed (PR #315084b) because it was an unconditional t.Skip() with no implementation. The intent behind the test — validating the full measure→stitch pipeline with selective context filtering — is valid and should be implemented.\n\n## What to implement\n\nA test that:\n1. Sets up a minimal repo with a beads task and required_reading field\n2. Runs stitch with a real Claude invocation (gated on COBBLER_E2E_CLAUDE=1)\n3. Verifies that the prompt saved to HistoryDir reflects only the files listed in required_reading (not the full source tree)\n4. Verifies that the prompt size is within MaxContextBytes\n\n## Notes\n\n- Gate on COBBLER_E2E_CLAUDE=1 env var so it skips in CI without credentials\n- Also requires podman to be available (checkPodman)\n- The setupMinimalRepo and createBDTask helpers in stitch_context_test.go can be reused\n- TestSelectiveContext_PromptSavedBeforeClaude covers the prompt-save mechanic without Claude; this test should cover the filtering correctness end-to-end\n\nGitHub: petar-djukic/cobbler-scaffold#64","status":"closed","priority":2,"issue_type":"epic","owner":"petar.djukic@gmail.com","created_at":"2026-02-27T01:41:15Z","created_by":"petardjukic","updated_at":"2026-02-27T01:52:29Z","closed_at":"2026-02-27T01:52:29Z","close_reason":"All children completed"}
{"id":"cobbler-302.2","title":"GH-64.1: Implement TestSelectiveContext_FullPipeline in stitch_context_test.go","description":"deliverable_type: code\nrequired_reading:\n  - tests/e2e/stitch_context_test.go (helpers: setupMinimalRepo, createBDTask, requireBD)\n  - pkg/orchestrator/stitch.go (RunStitchN, buildStitchPrompt, parseRequiredReading, saveHistoryPrompt)\n  - pkg/orchestrator/cobbler.go (checkPodman, historyDir, saveHistoryPrompt path convention)\n  - pkg/orchestrator/prompt.go (StitchPromptDoc struct, SourceFile yaml tags)\n  - pkg/orchestrator/config.go (Config, CobblerConfig, MaxContextBytes, HistoryDir)\nfiles:\n  - path: tests/e2e/stitch_context_test.go\n    action: modify\nrequirements:\n  - id: R1\n    text: Gate on COBBLER_E2E_CLAUDE=1 env var; skip if not set\n  - id: R2\n    text: Require podman available via exec.LookPath; skip if absent\n  - id: R3\n    text: Reuse setupMinimalRepo and createBDTask; create a task whose required_reading lists only pkg/core/core.go (not pkg/util/util.go or pkg/core/types.go)\n  - id: R4\n    text: Run orchestrator.RunStitchN(1) against the minimal repo with a short MaxTimeSec so Claude exits quickly after the prompt is saved\n  - id: R5\n    text: Glob HistoryDir for *-stitch-prompt.yaml; assert exactly one prompt file exists\n  - id: R6\n    text: Unmarshal the prompt file as orchestrator.StitchPromptDoc and assert source_code contains only pkg/core/core.go, not pkg/core/types.go or pkg/util/util.go\n  - id: R7\n    text: Assert len(promptBytes) \u003c= MaxContextBytes\nacceptance_criteria:\n  - id: AC1\n    text: go test -tags usecase -run TestSelectiveContext_FullPipeline skips without COBBLER_E2E_CLAUDE=1\n  - id: AC2\n    text: With COBBLER_E2E_CLAUDE=1 and podman, the prompt file is found and filtering is verified\n  - id: AC3\n    text: Existing tests (TestSelectiveContext_FilterReducesSize, TestSelectiveContext_BudgetEnforcementConcept, TestSelectiveContext_PromptSavedBeforeClaude) continue to pass","status":"closed","priority":2,"issue_type":"task","owner":"petar.djukic@gmail.com","created_at":"2026-02-27T01:41:49Z","created_by":"petardjukic","updated_at":"2026-02-27T01:52:14Z","closed_at":"2026-02-27T01:52:14Z","close_reason":"Closed","dependencies":[{"issue_id":"cobbler-302.2","depends_on_id":"cobbler-302","type":"parent-child","created_at":"2026-02-26T20:41:49Z","created_by":"petardjukic","metadata":"{}"}],"comments":[{"id":35,"issue_id":"cobbler-302.2","author":"petardjukic","text":"tokens: 42000","created_at":"2026-02-27T01:52:13Z"}]}
{"id":"cobbler-4z5","title":"GH-51: Add pre-cycle analyze step to cobbler workflow","description":"Add an analyze step that runs before measure and stitch in the cobbler workflow. This step inspects the codebase, records implementation status to a file in the scratch directory, and makes that status available to all subsequent operations.\n\nAcceptance Criteria:\n- An analyze step runs automatically before each measure and stitch cycle\n- Analysis results are written to a YAML file in the scratch directory\n- The analysis file is loaded into ProjectContext and visible in measure/stitch prompts\n- Claude can see which use cases are implemented vs. not when proposing and executing tasks\n- cobbler:reset cleans up the analysis file\n- The analyze step reuses existing CodeStatus() and Analyze() logic (no duplication)\n\nGitHub: petar-djukic/cobbler-scaffold#51","status":"closed","priority":2,"issue_type":"epic","owner":"petar.djukic@gmail.com","created_at":"2026-02-26T18:04:18Z","created_by":"petardjukic","updated_at":"2026-02-26T18:12:13Z","closed_at":"2026-02-26T18:12:13Z","close_reason":"All children completed"}
{"id":"cobbler-4z5.1","title":"Implement pre-cycle analysis and inject into project context","description":"deliverable_type: code\n\nRequired Reading:\n- pkg/orchestrator/analyze.go\n- pkg/orchestrator/codestatus.go\n- pkg/orchestrator/context.go\n- pkg/orchestrator/measure.go\n- pkg/orchestrator/generator.go\n- pkg/orchestrator/cobbler.go\n\nFiles to Create/Modify:\n- pkg/orchestrator/precycle.go (new)\n- pkg/orchestrator/analyze.go (refactor)\n- pkg/orchestrator/context.go (add Analysis field)\n- pkg/orchestrator/measure.go (wire RunPreCycleAnalysis)\n- pkg/orchestrator/generator.go (wire RunPreCycleAnalysis)\n\nRequirements:\n1. Refactor Analyze() to extract data gathering into collectAnalyzeResult() so the AnalyzeResult struct is reusable without printing\n2. Add AnalysisDoc struct combining AnalyzeResult summary and CodeStatusReport. YAML-serializable.\n3. Add RunPreCycleAnalysis() that calls collectAnalyzeResult() and computeCodeStatus(), writes AnalysisDoc to {ScratchDir}/analysis.yaml\n4. Add Analysis *AnalysisDoc field to ProjectContext\n5. In buildProjectContext(), load analysis.yaml into ctx.Analysis if present\n6. Call RunPreCycleAnalysis() at start of RunMeasure() and RunCycles()\n\nDesign Decisions:\n- Analysis is non-blocking: log warnings but do not fail the cycle\n- Analysis file is regenerated on every call\n- CobblerReset() already cleans .cobbler/ so no change needed\n\nAcceptance Criteria:\n- RunMeasure() and RunCycles() call RunPreCycleAnalysis() before main work\n- Analysis results written to .cobbler/analysis.yaml\n- buildProjectContext() loads analysis into ProjectContext.Analysis\n- mage analyze still works (refactor preserves behavior)\n- mage test:unit passes","status":"closed","priority":2,"issue_type":"task","owner":"petar.djukic@gmail.com","created_at":"2026-02-26T18:04:27Z","created_by":"petardjukic","updated_at":"2026-02-26T18:10:38Z","closed_at":"2026-02-26T18:10:38Z","close_reason":"Closed","dependencies":[{"issue_id":"cobbler-4z5.1","depends_on_id":"cobbler-4z5","type":"parent-child","created_at":"2026-02-26T13:04:27Z","created_by":"petardjukic","metadata":"{}"}],"comments":[{"id":23,"issue_id":"cobbler-4z5.1","author":"petardjukic","text":"tokens: 45000","created_at":"2026-02-26T18:10:38Z"}]}
{"id":"cobbler-4z5.2","title":"Add unit tests for pre-cycle analysis","description":"deliverable_type: code\n\nRequired Reading:\n- pkg/orchestrator/precycle.go\n- pkg/orchestrator/analyze_test.go\n- pkg/orchestrator/codestatus_test.go\n\nFiles to Create/Modify:\n- pkg/orchestrator/precycle_test.go (new)\n- pkg/orchestrator/analyze_test.go (add collectAnalyzeResult test)\n\nRequirements:\n1. Test collectAnalyzeResult() returns structured data without printing\n2. Test AnalysisDoc YAML marshaling/unmarshaling round-trip\n3. Test RunPreCycleAnalysis() writes analysis.yaml to scratch dir\n4. Test buildProjectContext() loads analysis file into ctx.Analysis when present and leaves nil when absent\n5. Edge cases: missing roadmap, empty test directory, scratch dir doesn't exist\n\nAcceptance Criteria:\n- All new functions have at least 3 test cases\n- mage test:unit passes","status":"closed","priority":2,"issue_type":"task","owner":"petar.djukic@gmail.com","created_at":"2026-02-26T18:04:33Z","created_by":"petardjukic","updated_at":"2026-02-26T18:11:58Z","closed_at":"2026-02-26T18:11:58Z","close_reason":"Closed","dependencies":[{"issue_id":"cobbler-4z5.2","depends_on_id":"cobbler-4z5","type":"parent-child","created_at":"2026-02-26T13:04:33Z","created_by":"petardjukic","metadata":"{}"}],"comments":[{"id":24,"issue_id":"cobbler-4z5.2","author":"petardjukic","text":"tokens: 15000","created_at":"2026-02-26T18:11:57Z"}]}
{"id":"cobbler-6e3","title":"GH-25: bd ready returns empty after stitch timeout (stale task state)","description":"After a stitch timeout (the Claude process is killed at max_time_sec), the beads task enters a state where bd ready cannot find it, even though bd show \u003cid\u003e shows it as READY. This requires manual intervention to re-queue the task.\n\nRoot cause: resetTask(), recoverStaleBranches(), and resetOrphanedIssues() call bdUpdateStatus(id, \"ready\") but \"ready\" is not a valid beads status. The bd CLI silently accepts it, but bd ready only returns issues with status \"open\". The task becomes invisible.\n\nFix: Change \"ready\" to \"open\" in all three locations, add error handling, and add tests.\n\nGitHub: petar-djukic/cobbler-scaffold#25","status":"closed","priority":2,"issue_type":"epic","owner":"petar.djukic@gmail.com","created_at":"2026-02-26T01:17:55Z","created_by":"petardjukic","updated_at":"2026-02-26T01:33:36Z","closed_at":"2026-02-26T01:33:36Z","close_reason":"Closed"}
{"id":"cobbler-6e3.2","title":"Fix status value and add error handling in task reset paths","description":"## Required Reading\n- pkg/orchestrator/stitch.go (resetTask, recoverStaleBranches, resetOrphanedIssues)\n- pkg/orchestrator/commands.go (bdUpdateStatus)\n\n## Files to Modify\n- pkg/orchestrator/stitch.go\n\n## Requirements\n1. Replace \"ready\" with \"open\" in all 3 bdUpdateStatus calls:\n   - Line 729: resetTask()\n   - Line 225: recoverStaleBranches()\n   - Line 261: resetOrphanedIssues()\n2. Add error checking in resetTask() — currently ignores return from bdUpdateStatus\n3. Add a constant (statusOpen = \"open\") to avoid repeated string literals\n4. Update the comment on line 22 that mentions \"ready\"\n\n## Design Decisions\n- Use a package-level constant for status strings to prevent future typos\n- Log warnings on bdUpdateStatus failure (don't fail hard — cleanup should continue)\n\n## Acceptance Criteria\n- All task reset paths use \"open\" status\n- resetTask logs warning if bdUpdateStatus fails\n- No string literal \"ready\" used as a beads status value\n- Code compiles: go build ./...","status":"closed","priority":2,"issue_type":"task","owner":"petar.djukic@gmail.com","created_at":"2026-02-26T01:18:10Z","created_by":"petardjukic","updated_at":"2026-02-26T01:24:37Z","closed_at":"2026-02-26T01:24:37Z","close_reason":"Closed","dependencies":[{"issue_id":"cobbler-6e3.2","depends_on_id":"cobbler-6e3","type":"parent-child","created_at":"2026-02-25T20:18:10Z","created_by":"petardjukic","metadata":"{}"}],"comments":[{"id":1,"issue_id":"cobbler-6e3.2","author":"petardjukic","text":"tokens: 0","created_at":"2026-02-26T01:24:37Z"}]}
{"id":"cobbler-6e3.3","title":"Add tests for stitch timeout recovery","description":"## Required Reading\n- pkg/orchestrator/stitch.go (resetTask, resetOrphanedIssues, recoverStaleTasks)\n- tests/rel01.0/internal/testutil/testutil.go (CountReadyIssues, CreateIssue helpers)\n- Existing *_test.go files in pkg/orchestrator/\n\n## Files to Create/Modify\n- pkg/orchestrator/stitch_test.go (new or existing)\n\n## Requirements\n1. Test that resetTask sets status to \"open\" (verifiable via bd ready)\n2. Test that resetOrphanedIssues resets orphaned tasks to \"open\"\n3. Test that after reset, bd ready returns the task\n4. Test error case: verify logging when bdUpdateStatus fails\n\n## Design Decisions\n- Use bd CLI in tests (integration-style) since the code under test calls bd as external process\n- May need test helpers to initialize and tear down beads state\n\n## Acceptance Criteria\n- Tests pass: go test ./pkg/orchestrator/...\n- Tests cover the timeout → reset → bd ready cycle\n- No flaky tests (deterministic state setup/teardown)","status":"closed","priority":2,"issue_type":"task","owner":"petar.djukic@gmail.com","created_at":"2026-02-26T01:18:18Z","created_by":"petardjukic","updated_at":"2026-02-26T01:33:04Z","closed_at":"2026-02-26T01:33:04Z","close_reason":"Closed","dependencies":[{"issue_id":"cobbler-6e3.3","depends_on_id":"cobbler-6e3","type":"parent-child","created_at":"2026-02-25T20:18:17Z","created_by":"petardjukic","metadata":"{}"}],"comments":[{"id":2,"issue_id":"cobbler-6e3.3","author":"petardjukic","text":"tokens: 0","created_at":"2026-02-26T01:33:03Z"}]}
{"id":"cobbler-a90","title":"tag.go nextDocRevision: hardcoded v0. prefix and main branch assumption","description":"deliverable_type: code\n\nrequired_reading:\n  - pkg/orchestrator/tag.go:23-100 (Tag, nextDocRevision)\n  - pkg/orchestrator/config.go (CobblerConfig fields)\n\nfiles:\n  - path: pkg/orchestrator/tag.go\n    action: modify\n  - path: pkg/orchestrator/config.go\n    action: modify\n\nrequirements:\n  - id: R1\n    text: The tag prefix 'v0.' is hardcoded in tag.go Tag() and nextDocRevision(). Consider making it configurable via CobblerConfig (e.g., DocTagPrefix string with default 'v0.') so projects can use different versioning schemes.\n  - id: R2\n    text: The main branch check ('main') in Tag() is hardcoded. Consider using the config BaseBranch or a dedicated field.\n\nacceptance_criteria:\n  - id: AC1\n    text: Tag prefix is configurable or the hardcoding is explicitly documented as a design choice\n  - id: AC2\n    text: Tests verify tag format for both default and custom prefix","status":"closed","priority":2,"issue_type":"task","owner":"petar.djukic@gmail.com","created_at":"2026-02-27T02:59:58Z","created_by":"petardjukic","updated_at":"2026-02-27T03:04:43Z","closed_at":"2026-02-27T03:04:43Z","close_reason":"Closed","comments":[{"id":45,"issue_id":"cobbler-a90","author":"petardjukic","text":"pushed to GitHub as #74","created_at":"2026-02-27T03:04:42Z"}]}
{"id":"cobbler-anw","title":"GH-48: Add code-level release status tracking to measure","description":"The road-map.yaml file tracks specification status (use case completion at the documentation level), but during code generation the road-map is checked as if it reflects implementation status. There is currently no mechanism to verify whether the code actually implements what the specifications describe.\n\nThe measure target (or a new companion check) should inspect the codebase to determine:\n\n1. Code status per use case: For each use case in the roadmap, check whether corresponding Go test files exist in tests/ and whether they pass, indicating the use case is implemented.\n2. Release readiness: For each release in road-map.yaml, determine whether all use cases assigned to that release have passing tests, indicating the release is code-complete.\n3. Spec vs code gap reporting: Report discrepancies between specification status (road-map.yaml says \"done\") and code status (tests missing or failing).\n\nAcceptance Criteria:\n- mage measure (or a dedicated target) reports per-use-case code status (implemented, partial, not started) based on test file existence and test results\n- Per-release code readiness is reported (all use cases passing, some failing, none implemented)\n- Gaps between spec status in road-map.yaml and actual code status are surfaced\n- Output distinguishes between \"specification done\" and \"code done\" for each use case and release\n\nGitHub: petar-djukic/cobbler-scaffold#48","status":"closed","priority":2,"issue_type":"epic","owner":"petar.djukic@gmail.com","created_at":"2026-02-26T13:34:52Z","created_by":"petardjukic","updated_at":"2026-02-26T13:39:33Z","closed_at":"2026-02-26T13:39:33Z","close_reason":"All children completed"}
{"id":"cobbler-anw.2","title":"Implement code status scanning and reporting","description":"deliverable_type: code\n\nRequired Reading:\n- pkg/orchestrator/analyze.go — existing cross-artifact analysis pattern\n- pkg/orchestrator/context.go — RoadmapDoc, RoadmapRelease, RoadmapUseCase structs\n- pkg/orchestrator/stats.go — existing metrics pattern\n- magefiles/magefile.go — existing mage target structure\n- docs/road-map.yaml — roadmap structure with status fields\n- tests/rel01.0/ — test directory layout convention\n\nFiles to Create/Modify:\n- pkg/orchestrator/codestatus.go (new)\n- magefiles/magefile.go (add mage target)\n\nRequirements:\n1. Add scanTestDirectories() function that walks tests/ and discovers tests/rel{NN}.{N}/uc{NNN}/ directories, returning a map of use case IDs to test file paths\n2. Add computeCodeStatus() that takes the test directory scan and roadmap, returns per-use-case code status: \"implemented\" (test files exist), \"not started\" (no test directory)\n3. Add computeReleaseReadiness() that aggregates per-UC code status into per-release readiness: \"all implemented\", \"partial\", \"none\"\n4. Add detectSpecCodeGaps() that compares road-map.yaml spec status with code status, reporting mismatches\n5. Add CodeStatus() method on Orchestrator that runs the full check and prints a formatted report distinguishing \"specification done\" from \"code done\"\n6. Add mage target wiring (e.g., mage status or mage analyze:code)\n\nAcceptance Criteria:\n- Running the target scans tests/ and road-map.yaml, prints per-UC and per-release status\n- Output clearly shows spec status vs code status for each use case\n- Gaps are highlighted","status":"closed","priority":2,"issue_type":"task","owner":"petar.djukic@gmail.com","created_at":"2026-02-26T13:35:06Z","created_by":"petardjukic","updated_at":"2026-02-26T13:37:47Z","closed_at":"2026-02-26T13:37:47Z","close_reason":"Closed","dependencies":[{"issue_id":"cobbler-anw.2","depends_on_id":"cobbler-anw","type":"parent-child","created_at":"2026-02-26T08:35:06Z","created_by":"petardjukic","metadata":"{}"}],"comments":[{"id":21,"issue_id":"cobbler-anw.2","author":"petardjukic","text":"tokens: 45000","created_at":"2026-02-26T13:37:47Z"}]}
{"id":"cobbler-anw.3","title":"Add unit tests for code status detection","description":"deliverable_type: code\n\nRequired Reading:\n- pkg/orchestrator/codestatus.go — implementation from cobbler-anw.2\n- pkg/orchestrator/analyze_test.go — existing test patterns (t.TempDir(), table-driven tests)\n\nFiles to Create/Modify:\n- pkg/orchestrator/codestatus_test.go (new)\n\nRequirements:\n1. Test scanTestDirectories() with a temp dir containing mock test directory structures\n2. Test computeCodeStatus() with various roadmap + scan combinations\n3. Test computeReleaseReadiness() for all-implemented, partial, and none cases\n4. Test detectSpecCodeGaps() for matching and mismatching spec/code statuses\n5. Test edge cases: empty roadmap, no tests/ directory, releases with no use cases\n\nAcceptance Criteria:\n- All new functions have at least 3 test cases each\n- Edge cases (empty inputs, missing directories) are covered\n- mage test:unit passes","status":"closed","priority":2,"issue_type":"task","owner":"petar.djukic@gmail.com","created_at":"2026-02-26T13:35:11Z","created_by":"petardjukic","updated_at":"2026-02-26T13:39:13Z","closed_at":"2026-02-26T13:39:13Z","close_reason":"Closed","dependencies":[{"issue_id":"cobbler-anw.3","depends_on_id":"cobbler-anw","type":"parent-child","created_at":"2026-02-26T08:35:11Z","created_by":"petardjukic","metadata":"{}"}],"comments":[{"id":22,"issue_id":"cobbler-anw.3","author":"petardjukic","text":"tokens: 55000","created_at":"2026-02-26T13:39:12Z"}]}
{"id":"cobbler-bnj","title":"stitch.go doOneTask: worktree leaked when buildStitchPrompt returns error","description":"deliverable_type: code\n\nrequired_reading:\n  - pkg/orchestrator/stitch.go:394-410 (createWorktree then buildStitchPrompt)\n  - pkg/orchestrator/stitch.go:430-510 (error handling paths that do clean up)\n\nfiles:\n  - path: pkg/orchestrator/stitch.go\n    action: modify\n\nrequirements:\n  - id: R1\n    text: When buildStitchPrompt returns an error at line 406-407, the worktree created by createWorktree at line 394 is never removed. Add cleanup (removeWorktree / resetTask) before returning so the worktree and branch are not orphaned.\n\nacceptance_criteria:\n  - id: AC1\n    text: Worktree is cleaned up when buildStitchPrompt fails\n  - id: AC2\n    text: Test covers the error path (verify no branch/worktree left behind)","status":"closed","priority":2,"issue_type":"task","owner":"petar.djukic@gmail.com","created_at":"2026-02-27T02:59:50Z","created_by":"petardjukic","updated_at":"2026-02-27T03:04:42Z","closed_at":"2026-02-27T03:04:42Z","close_reason":"Closed","comments":[{"id":44,"issue_id":"cobbler-bnj","author":"petardjukic","text":"pushed to GitHub as #73","created_at":"2026-02-27T03:04:41Z"}]}
{"id":"cobbler-c8i","title":"GH-62: Investigate VS Code markdown preview for constitution YAML files","description":"## Description\n\nThe VS Code extension environment supports previewing files through markdown viewer extensions. We want to investigate how to preview constitution YAML files as rendered markdown directly in the editor, either by leveraging existing extensions or by embedding markdown rendering directly into this extension.\n\n## Research Tasks\n\n- Survey available VS Code extensions for markdown preview (e.g., Markdown Preview Enhanced, built-in markdown preview) and evaluate whether their rendering code can be embedded or reused.\n- Investigate approaches for converting YAML to markdown on the fly (CLI tools, VS Code tasks, custom webview panels).\n- Determine whether to embed a markdown viewer (e.g., copy rendering code into this extension) or pipe output to an external viewer.\n- Evaluate the VS Code Webview API as a host for an embedded markdown preview panel.\n\n## Acceptance Criteria\n\n- A recommended approach is documented: embed viewer code in this extension, use an external extension, or a hybrid.\n- A working YAML-to-markdown conversion approach is documented (tool, script, or in-extension transform).\n- A prototype demonstrates previewing a constitution YAML file as rendered markdown in VS Code.\n\n## Dependencies\n\n- Depends on #60 (add title and content fields to constitution YAML section tags) -- now complete.\n\nGitHub: petar-djukic/cobbler-scaffold#62","status":"closed","priority":2,"issue_type":"epic","owner":"petar.djukic@gmail.com","created_at":"2026-02-27T02:31:32Z","created_by":"petardjukic","updated_at":"2026-02-27T02:35:23Z","closed_at":"2026-02-27T02:35:23Z","close_reason":"All children completed"}
{"id":"cobbler-c8i.1","title":"GH-62.1: Implement constitution YAML preview webview command","description":"deliverable_type: code\n\nrequired_reading:\n  - vscode-extension/src/dashboard.ts (WebviewPanel pattern, renderDashboardHtml, MetricsDashboard class)\n  - vscode-extension/src/extension.ts (command registration pattern)\n  - vscode-extension/package.json (command and menu contribution format)\n  - pkg/orchestrator/constitution_md.go (ConstitutionToMarkdown -- TypeScript port required)\n  - pkg/orchestrator/constitutions/execution.yaml (sample sections structure to test against)\n\nfiles:\n  - path: vscode-extension/src/constitutionPreview.ts\n    action: create\n    note: ConstitutionSection interface, constitutionToMarkdown(), renderConstitutionHtml(), ConstitutionPreview class\n  - path: vscode-extension/src/__tests__/constitutionPreview.test.ts\n    action: create\n    note: unit tests for constitutionToMarkdown() and renderConstitutionHtml()\n  - path: vscode-extension/src/extension.ts\n    action: modify\n    note: import ConstitutionPreview and register mageOrchestrator.previewConstitution\n  - path: vscode-extension/package.json\n    action: modify\n    note: add command declaration and explorer/context menu entry for *.yaml files\n\nrequirements:\n  - id: R1\n    text: ConstitutionSection interface with tag, title, content string fields\n  - id: R2\n    text: constitutionToMarkdown(sections) returns \"## {title}\\n\\n{content}\\n\\n\" per section, normalizing trailing newlines (port of pkg/orchestrator/constitution_md.go)\n  - id: R3\n    text: renderConstitutionHtml(title, sections) wraps the markdown in a styled HTML document using VS Code CSS variables (same pattern as dashboard.ts)\n  - id: R4\n    text: ConstitutionPreview class manages a singleton WebviewPanel; show(uri) reads the YAML file, parses it with js-yaml, and displays the rendered HTML; if sections is empty it shows an error message via vscode.window.showErrorMessage\n  - id: R5\n    text: mageOrchestrator.previewConstitution command registered in extension.ts; it reads vscode.window.activeTextEditor?.document.uri and calls preview.show(uri)\n  - id: R6\n    text: package.json declares the command with title \"Cobbler: Preview Constitution\" and adds an explorer/context menu entry scoped to files matching **/*.yaml\n\nacceptance_criteria:\n  - id: AC1\n    text: npm run test passes (vitest unit tests for constitutionToMarkdown and renderConstitutionHtml)\n  - id: AC2\n    text: Opening a constitution YAML file and running \"Cobbler: Preview Constitution\" opens a WebviewPanel showing one ## heading per sections entry\n  - id: AC3\n    text: The panel title shows the YAML file name\n  - id: AC4\n    text: When the active file has no sections field, vscode.window.showErrorMessage is called","status":"closed","priority":2,"issue_type":"task","owner":"petar.djukic@gmail.com","created_at":"2026-02-27T02:31:50Z","created_by":"petardjukic","updated_at":"2026-02-27T02:35:23Z","closed_at":"2026-02-27T02:35:23Z","close_reason":"Closed","dependencies":[{"issue_id":"cobbler-c8i.1","depends_on_id":"cobbler-c8i","type":"parent-child","created_at":"2026-02-26T21:31:49Z","created_by":"petardjukic","metadata":"{}"}],"comments":[{"id":39,"issue_id":"cobbler-c8i.1","author":"petardjukic","text":"tokens: 38000","created_at":"2026-02-27T02:35:22Z"}]}
{"id":"cobbler-cfn","title":"GH-38: generator:start and generator:stop should support non-main base branches","description":"generator:start enforces ensureOnBranch(\"main\") and generator:stop hardcodes gitCheckout(\"main\") as the merge target. This prevents running the generation pipeline on a feature branch.\n\nThe /git-issue-pop workflow creates a feature branch for each piece of work. Specifications are written on that branch, and the generation pipeline should run there too. The feature branch eventually merges into main via PR. But the current code forces the operator back to main for every generation run, breaking the feature-branch workflow.\n\nExpected: generator:start records the current branch as baseBranch and creates the generation branch from it. generator:stop merges back into the originating branch instead of hardcoded main.\n\nGitHub: petar-djukic/cobbler-scaffold#38","status":"closed","priority":2,"issue_type":"epic","owner":"petar.djukic@gmail.com","created_at":"2026-02-26T02:37:59Z","created_by":"petardjukic","updated_at":"2026-02-26T03:03:33Z","closed_at":"2026-02-26T03:03:33Z","close_reason":"Closed"}
{"id":"cobbler-cfn.2","title":"Update PRD and specs for base branch support","description":"Type: documentation\n\nRequired Reading:\n- docs/specs/product-requirements/prd002-generation-lifecycle.yaml\n- docs/specs/use-cases/rel01.0-uc002-generation-lifecycle.yaml\n- docs/specs/test-suites/test-rel01.0.yaml\n- docs/ARCHITECTURE.yaml\n\nFiles to Modify:\n- docs/specs/product-requirements/prd002-generation-lifecycle.yaml\n- docs/specs/use-cases/rel01.0-uc002-generation-lifecycle.yaml (or create a new use case)\n- docs/specs/test-suites/test-rel01.0.yaml\n\nRequirements:\n1. Update PRD R2.1 from \"must verify the current branch is main\" to \"must record the current branch as the base branch\" (any clean branch is valid).\n2. Update PRD R5.3 from \"must switch to main\" to \"must switch to the recorded base branch\".\n3. Add requirements for storing and reading the base branch name.\n4. Update or add a use case covering the feature-branch generation workflow.\n5. Update the test suite to cover the new behavior.\n\nAcceptance Criteria:\n- PRD requirements no longer hardcode \"main\" for start/stop base branch behavior.\n- A use case describes the feature-branch generation lifecycle.\n- Test suite has test cases for starting from a non-main branch and stopping back to it.\n- mage analyze passes after changes.","status":"closed","priority":2,"issue_type":"task","owner":"petar.djukic@gmail.com","created_at":"2026-02-26T02:38:33Z","created_by":"petardjukic","updated_at":"2026-02-26T02:42:54Z","closed_at":"2026-02-26T02:42:54Z","close_reason":"Closed","dependencies":[{"issue_id":"cobbler-cfn.2","depends_on_id":"cobbler-cfn","type":"parent-child","created_at":"2026-02-25T21:38:32Z","created_by":"petardjukic","metadata":"{}"}],"comments":[{"id":7,"issue_id":"cobbler-cfn.2","author":"petardjukic","text":"tokens: 45000","created_at":"2026-02-26T02:42:53Z"}]}
{"id":"cobbler-cfn.3","title":"Implement base branch recording in GeneratorStart/Stop","description":"Type: code\n\nRequired Reading:\n- pkg/orchestrator/generator.go (GeneratorStart, GeneratorStop, mergeGenerationIntoMain, ensureOnBranch)\n- pkg/orchestrator/commands.go (gitCurrentBranch, gitCheckout)\n- tests/rel01.0/uc002/lifecycle_test.go\n- docs/specs/product-requirements/prd002-generation-lifecycle.yaml (updated by sub-issue 1)\n\nFiles to Modify:\n- pkg/orchestrator/generator.go\n- tests/rel01.0/uc002/lifecycle_test.go\n\nRequirements:\n1. In GeneratorStart: replace ensureOnBranch(\"main\") with gitCurrentBranch(). Verify the branch is clean. Record the current branch name by writing it to .cobbler/base-branch on the generation branch (committed in the squash commit).\n2. In GeneratorStop: read .cobbler/base-branch from the generation branch. Use that value instead of hardcoded \"main\" for gitCheckout and merge target.\n3. Rename mergeGenerationIntoMain to mergeGeneration (or similar). Parameterize the target branch.\n4. Update log messages and commit messages to reference the base branch instead of \"main\".\n5. GeneratorReset keeps ensureOnBranch(\"main\") — no change.\n6. Update existing tests: TestRel01_UC002_StopMergesAndTags and TestRel01_UC002_StartStopStartAgain assert return to main because they start from main. Add a new test that starts from a feature branch, runs start/stop, and verifies return to the feature branch.\n7. All existing tests must continue to pass (main-based workflow is the default case).\n\nDesign Decisions:\n- Store base branch in .cobbler/base-branch (simple file, committed on generation branch, travels with the branch).\n- If .cobbler/base-branch is missing (backward compat with old generations), fall back to \"main\".\n\nAcceptance Criteria:\n- generator:start works from any clean branch and records it.\n- generator:stop merges back to the recorded base branch.\n- Existing main-based tests pass unchanged.\n- New test validates feature-branch workflow.\n- mage test:unit and mage test:local pass.","status":"closed","priority":2,"issue_type":"task","owner":"petar.djukic@gmail.com","created_at":"2026-02-26T02:38:37Z","created_by":"petardjukic","updated_at":"2026-02-26T03:03:09Z","closed_at":"2026-02-26T03:03:09Z","close_reason":"Closed","dependencies":[{"issue_id":"cobbler-cfn.3","depends_on_id":"cobbler-cfn","type":"parent-child","created_at":"2026-02-25T21:38:37Z","created_by":"petardjukic","metadata":"{}"}],"comments":[{"id":8,"issue_id":"cobbler-cfn.3","author":"petardjukic","text":"tokens: 85000","created_at":"2026-02-26T03:03:08Z"}]}
{"id":"cobbler-cpd","title":"GH-46: Extend mage analyze to validate all constitution schemas and requirement-level citations","description":"mage analyze currently validates YAML schemas for most document types but has two gaps:\n\n1. Constitution YAML files (design, execution, planning, testing, issue-format) lack typed structs and are silently skipped during schema validation. Embedded copies in pkg/orchestrator/constitutions/ are never checked for drift against docs/constitutions/.\n\n2. Requirement-level citations in use case touchpoints (e.g., R1, R3) are not validated against the actual requirements in the referenced PRD.\n\nGitHub: petar-djukic/cobbler-scaffold#46","status":"closed","priority":2,"issue_type":"epic","owner":"petar.djukic@gmail.com","created_at":"2026-02-26T04:31:23Z","created_by":"petardjukic","updated_at":"2026-02-26T04:51:07Z","closed_at":"2026-02-26T04:51:07Z","close_reason":"All children completed"}
{"id":"cobbler-cpd.1","title":"Add typed structs for constitution YAML files","description":"deliverable_type: code\nrequired_reading:\n  - pkg/orchestrator/context.go\n  - docs/constitutions/design.yaml\n  - docs/constitutions/execution.yaml\n  - docs/constitutions/planning.yaml\n  - docs/constitutions/testing.yaml\n  - pkg/orchestrator/constitutions/issue-format.yaml\nfiles:\n  - pkg/orchestrator/context.go\nrequirements: |\n  Create Go structs with yaml tags for design.yaml, execution.yaml,\n  planning.yaml, testing.yaml, and issue-format.yaml. Follow the\n  GoStyleDoc pattern. Each struct must parse the current YAML content\n  without error using KnownFields(true).\nacceptance_criteria: |\n  - All 5 constitutions have typed structs\n  - validateYAMLStrict succeeds for each on the current files\n  - Build passes","status":"closed","priority":2,"issue_type":"task","owner":"petar.djukic@gmail.com","created_at":"2026-02-26T04:31:32Z","created_by":"petardjukic","updated_at":"2026-02-26T04:42:08Z","closed_at":"2026-02-26T04:42:08Z","close_reason":"Closed","dependencies":[{"issue_id":"cobbler-cpd.1","depends_on_id":"cobbler-cpd","type":"parent-child","created_at":"2026-02-25T23:31:32Z","created_by":"petardjukic","metadata":"{}"}],"comments":[{"id":17,"issue_id":"cobbler-cpd.1","author":"petardjukic","text":"tokens: 45000","created_at":"2026-02-26T04:42:07Z"}]}
{"id":"cobbler-cpd.2","title":"Validate constitutions and detect embedded drift in analyze","description":"deliverable_type: code\nrequired_reading:\n  - pkg/orchestrator/analyze.go\n  - pkg/orchestrator/context.go\nfiles:\n  - pkg/orchestrator/analyze.go\nrequirements: |\n  1. Add case \"constitution\": to validateDocSchemas switch to validate\n     constitution files with their typed structs and KnownFields(true).\n  2. Validate all constitutions in both docs/constitutions/ and\n     pkg/orchestrator/constitutions/.\n  3. Add a new check: byte-compare each file that exists in both directories\n     and report drift as a new ConstitutionDrift field in AnalyzeResult.\n  4. Include drift results in printReport.\nacceptance_criteria: |\n  - mage analyze validates all constitution schemas\n  - Drift between docs/ and pkg/ copies is detected and reported\n  - mage analyze passes on current codebase","status":"closed","priority":2,"issue_type":"task","owner":"petar.djukic@gmail.com","created_at":"2026-02-26T04:31:35Z","created_by":"petardjukic","updated_at":"2026-02-26T04:44:30Z","closed_at":"2026-02-26T04:44:30Z","close_reason":"Closed","dependencies":[{"issue_id":"cobbler-cpd.2","depends_on_id":"cobbler-cpd","type":"parent-child","created_at":"2026-02-25T23:31:34Z","created_by":"petardjukic","metadata":"{}"}],"comments":[{"id":18,"issue_id":"cobbler-cpd.2","author":"petardjukic","text":"tokens: 15000","created_at":"2026-02-26T04:44:29Z"}]}
{"id":"cobbler-cpd.3","title":"Validate requirement-level citations in touchpoints","description":"deliverable_type: code\nrequired_reading:\n  - pkg/orchestrator/analyze.go\n  - docs/specs/use-cases/rel01.0-uc001-cupboard-lifecycle.yaml\n  - docs/specs/product-requirements/prd001-orchestrator-core.yaml\nfiles:\n  - pkg/orchestrator/analyze.go\nrequirements: |\n  1. Extend touchpoint parsing to extract requirement group IDs (R1, R3)\n     alongside PRD IDs from touchpoint strings.\n  2. Load PRD requirements into a map of requirement group keys per PRD.\n  3. Validate that cited requirement groups exist in the referenced PRD.\n  4. Report invalid citations as a new BrokenCitations field in AnalyzeResult.\n  5. Include broken citations in printReport.\nacceptance_criteria: |\n  - mage analyze detects citations to non-existent requirement groups\n  - Valid citations (current codebase) pass without error\n  - Invalid citations are reported with PRD ID and requirement group","status":"closed","priority":2,"issue_type":"task","owner":"petar.djukic@gmail.com","created_at":"2026-02-26T04:31:41Z","created_by":"petardjukic","updated_at":"2026-02-26T04:49:06Z","closed_at":"2026-02-26T04:49:06Z","close_reason":"Closed","dependencies":[{"issue_id":"cobbler-cpd.3","depends_on_id":"cobbler-cpd","type":"parent-child","created_at":"2026-02-25T23:31:41Z","created_by":"petardjukic","metadata":"{}"}],"comments":[{"id":19,"issue_id":"cobbler-cpd.3","author":"petardjukic","text":"tokens: 20000","created_at":"2026-02-26T04:49:06Z"}]}
{"id":"cobbler-cpd.4","title":"Add unit tests for new validation","description":"deliverable_type: code\nrequired_reading:\n  - pkg/orchestrator/cobbler_test.go\n  - pkg/orchestrator/analyze.go\nfiles:\n  - pkg/orchestrator/analyze_test.go\nrequirements: |\n  1. Test constitution struct parsing with valid and invalid YAML.\n  2. Test drift detection between matching and differing files.\n  3. Test requirement citation extraction and validation.\n  4. Test edge cases: missing files, unknown fields, valid citations,\n     broken citations, empty touchpoints.\nacceptance_criteria: |\n  - New tests pass\n  - Existing tests pass\n  - mage analyze passes on current codebase\n  - mage test:unit passes","status":"closed","priority":2,"issue_type":"task","owner":"petar.djukic@gmail.com","created_at":"2026-02-26T04:31:42Z","created_by":"petardjukic","updated_at":"2026-02-26T04:50:45Z","closed_at":"2026-02-26T04:50:45Z","close_reason":"Closed","dependencies":[{"issue_id":"cobbler-cpd.4","depends_on_id":"cobbler-cpd","type":"parent-child","created_at":"2026-02-25T23:31:41Z","created_by":"petardjukic","metadata":"{}"}],"comments":[{"id":20,"issue_id":"cobbler-cpd.4","author":"petardjukic","text":"tokens: 15000","created_at":"2026-02-26T04:50:45Z"}]}
{"id":"cobbler-d6r","title":"GH-49: Add release scope configuration to configuration.yaml","description":"Add a releases list field to configuration.yaml that specifies which releases are in scope for code generation. When set, the generator filters use cases to only those in the listed releases. Omitting the field preserves current behavior.\n\nGitHub: petar-djukic/cobbler-scaffold#49","status":"closed","priority":2,"issue_type":"epic","owner":"petar.djukic@gmail.com","created_at":"2026-02-26T22:33:04Z","created_by":"petardjukic","updated_at":"2026-02-26T22:40:18Z","closed_at":"2026-02-26T22:40:18Z","close_reason":"All children completed"}
{"id":"cobbler-d6r.2","title":"Add Releases list field to config, update release filtering and validation","description":"deliverable_type: code\n\nrequired_reading:\n  - pkg/orchestrator/config.go (ProjectConfig.Release field, LoadConfig)\n  - pkg/orchestrator/context.go (fileMatchesRelease, buildProjectContext, PhaseContext, loadContextFileInto)\n  - pkg/orchestrator/analyze.go (collectAnalyzeResult roadmap validation)\n\nfiles:\n  - path: pkg/orchestrator/config.go\n    action: modify\n    note: Replace Release string with Releases []string, add maxRelease helper, backward compat for release field\n  - path: pkg/orchestrator/context.go\n    action: modify\n    note: Update PhaseContext.Release to Releases, update fileMatchesRelease to accept list, update buildProjectContext to use Releases\n  - path: pkg/orchestrator/analyze.go\n    action: modify\n    note: Add validation that listed releases exist in road-map.yaml\n\nrequirements:\n  - id: R1\n    text: Add Releases list to ProjectConfig, deprecating the single Release string field\n  - id: R2\n    text: Update fileMatchesRelease to accept a list of releases and match files whose release is in the list or prior to the max listed release\n  - id: R3\n    text: Update buildProjectContext to use Releases for release scoping\n  - id: R4\n    text: Add release validation in collectAnalyzeResult — listed releases must exist in road-map.yaml\n  - id: R5\n    text: Omitting releases preserves current behavior (all releases in scope)\n\nacceptance_criteria:\n  - id: AC1\n    text: configuration.yaml accepts a releases list field\n  - id: AC2\n    text: Generator filters use cases by release scope\n  - id: AC3\n    text: Use cases from releases not in scope are excluded\n  - id: AC4\n    text: mage analyze validates that listed releases exist in road-map.yaml\n  - id: AC5\n    text: Omitting releases preserves current behavior","status":"closed","priority":2,"issue_type":"task","owner":"petar.djukic@gmail.com","created_at":"2026-02-26T22:33:20Z","created_by":"petardjukic","updated_at":"2026-02-26T22:37:40Z","closed_at":"2026-02-26T22:37:40Z","close_reason":"Closed","dependencies":[{"issue_id":"cobbler-d6r.2","depends_on_id":"cobbler-d6r","type":"parent-child","created_at":"2026-02-26T17:33:19Z","created_by":"petardjukic","metadata":"{}"}]}
{"id":"cobbler-d6r.3","title":"Add tests for release scope configuration","description":"deliverable_type: code\n\nrequired_reading:\n  - pkg/orchestrator/config.go (updated Releases field)\n  - pkg/orchestrator/context.go (updated fileMatchesRelease, buildProjectContext)\n  - pkg/orchestrator/context_test.go (existing fileMatchesRelease tests)\n  - pkg/orchestrator/analyze_test.go (existing analyze tests)\n\nfiles:\n  - path: pkg/orchestrator/context_test.go\n    action: modify\n    note: Tests for multi-release fileMatchesRelease, buildProjectContext with Releases\n  - path: pkg/orchestrator/config_test.go\n    action: modify\n    note: Tests for Releases field loading, backward compat\n  - path: pkg/orchestrator/analyze_test.go\n    action: modify\n    note: Tests for release validation against roadmap\n\nrequirements:\n  - id: R1\n    text: Test fileMatchesRelease with multiple releases\n  - id: R2\n    text: Test buildProjectContext filters use cases correctly with Releases\n  - id: R3\n    text: Test that omitting Releases includes all releases\n  - id: R4\n    text: Test that invalid releases in config are caught by analyze\n  - id: R5\n    text: Test backward compatibility (single release field still works)\n\nacceptance_criteria:\n  - id: AC1\n    text: All new tests pass\n  - id: AC2\n    text: Existing tests still pass","status":"closed","priority":2,"issue_type":"task","owner":"petar.djukic@gmail.com","created_at":"2026-02-26T22:33:26Z","created_by":"petardjukic","updated_at":"2026-02-26T22:40:14Z","closed_at":"2026-02-26T22:40:14Z","close_reason":"Closed","dependencies":[{"issue_id":"cobbler-d6r.3","depends_on_id":"cobbler-d6r","type":"parent-child","created_at":"2026-02-26T17:33:25Z","created_by":"petardjukic","metadata":"{}"}]}
{"id":"cobbler-d9i","title":"GH-73: stitch.go doOneTask: worktree leaked when buildStitchPrompt returns error","description":"## Description\n\nWhen buildStitchPrompt returns an error in doOneTask, the worktree created by createWorktree at line 394 is never cleaned up. The worktree directory and git branch persist on disk until the next GeneratorResume() call.\n\nOther error paths (Claude failure, worktree commit failure, merge failure) all call o.resetTask(task, ...) to clean up. This path does not.\n\nGitHub: petar-djukic/cobbler-scaffold#73","status":"closed","priority":2,"issue_type":"epic","owner":"petar.djukic@gmail.com","created_at":"2026-02-27T03:34:18Z","created_by":"petardjukic","updated_at":"2026-02-27T03:36:29Z","closed_at":"2026-02-27T03:36:29Z","close_reason":"All children completed"}
{"id":"cobbler-d9i.1","title":"Fix worktree leak in doOneTask when buildStitchPrompt fails","description":"deliverable_type: code\n\n## Required Reading\n\n- pkg/orchestrator/stitch.go — doOneTask, resetTask, createWorktree\n\n## Files to Modify\n\n- pkg/orchestrator/stitch.go\n- pkg/orchestrator/stitch_test.go\n\n## Requirements\n\n- R1: In doOneTask, call o.resetTask(task, \"prompt build failure\") before returning promptErr (currently line 407)\n\n## Design Decisions\n\n- resetTask already handles worktree removal and branch cleanup, matching the pattern used for Claude failures and merge failures in the same function. No new cleanup logic is needed.\n\n## Acceptance Criteria\n\n- AC1: go test ./pkg/orchestrator/... passes\n- AC2: A test verifies that when buildStitchPrompt fails, the error is returned and the cleanup path executes","status":"closed","priority":2,"issue_type":"task","owner":"petar.djukic@gmail.com","created_at":"2026-02-27T03:34:25Z","created_by":"petardjukic","updated_at":"2026-02-27T03:36:25Z","closed_at":"2026-02-27T03:36:25Z","close_reason":"Closed","dependencies":[{"issue_id":"cobbler-d9i.1","depends_on_id":"cobbler-d9i","type":"parent-child","created_at":"2026-02-26T22:34:25Z","created_by":"petardjukic","metadata":"{}"}],"comments":[{"id":48,"issue_id":"cobbler-d9i.1","author":"petardjukic","text":"tokens: 12000","created_at":"2026-02-27T03:36:24Z"}]}
{"id":"cobbler-dvv","title":"GH-40: Recurring: Run mage test:usecase and fix failures","description":"Run the use case test suite (mage test:usecase) against the current cobbler-scaffold codebase, identify failures, and fix them. This is a recurring task — create a new instance after each run.\n\nProtocol:\n1. Run the test suite: mage test:usecase\n2. Record results: total test cases, pass/fail counts, failure details\n3. Triage failures: regression, known issue, or new bug\n4. Fix failures: fix regressions in-place, file issues for non-trivial new bugs\n5. Report: date, pass rate, failures fixed, issues filed\n\nGitHub: petar-djukic/cobbler-scaffold#40","status":"closed","priority":2,"issue_type":"epic","owner":"petar.djukic@gmail.com","created_at":"2026-02-26T03:58:34Z","created_by":"petardjukic","updated_at":"2026-02-26T04:13:19Z","closed_at":"2026-02-26T04:13:19Z","close_reason":"All children completed"}
{"id":"cobbler-dvv.1","title":"Run test:usecase and record results","description":"deliverable_type: code\nrequired_reading:\n  - magefiles/test.go\n  - docs/specs/test-suites/\nfiles:\n  - (none — this is a run-and-record task)\nrequirements: |\n  Run mage test:usecase against the current codebase. Record:\n  - Total test cases run\n  - Pass/fail counts\n  - Failure details: which use case, what assertion failed, error output\n  Save results for triage in the next sub-issue.\nacceptance_criteria: |\n  - mage test:usecase has been executed\n  - Results are captured with pass/fail counts and failure details","status":"closed","priority":2,"issue_type":"task","owner":"petar.djukic@gmail.com","created_at":"2026-02-26T03:58:41Z","created_by":"petardjukic","updated_at":"2026-02-26T04:04:35Z","closed_at":"2026-02-26T04:04:35Z","close_reason":"Closed","dependencies":[{"issue_id":"cobbler-dvv.1","depends_on_id":"cobbler-dvv","type":"parent-child","created_at":"2026-02-25T22:58:40Z","created_by":"petardjukic","metadata":"{}"}]}
{"id":"cobbler-dvv.2","title":"Triage and fix test failures","description":"deliverable_type: code\nrequired_reading:\n  - magefiles/test.go\n  - pkg/orchestrator/\n  - docs/specs/use-cases/\nfiles:\n  - pkg/orchestrator/ (files with failing tests)\n  - magefiles/ (if test harness needs fixes)\nrequirements: |\n  For each failing test case from sub-issue 1:\n  - Classify as regression, known issue, or new bug\n  - Fix regressions and straightforward bugs in-place\n  - File GitHub issues for non-trivial new bugs\n  - Re-run mage test:usecase to confirm fixes\nacceptance_criteria: |\n  - All failures triaged\n  - Regressions and simple bugs fixed\n  - Non-trivial bugs have GitHub issues filed\n  - mage test:usecase re-run confirms fixes (or remaining failures have tracked issues)","status":"closed","priority":2,"issue_type":"task","owner":"petar.djukic@gmail.com","created_at":"2026-02-26T03:58:45Z","created_by":"petardjukic","updated_at":"2026-02-26T04:12:56Z","closed_at":"2026-02-26T04:12:56Z","close_reason":"Closed","dependencies":[{"issue_id":"cobbler-dvv.2","depends_on_id":"cobbler-dvv","type":"parent-child","created_at":"2026-02-25T22:58:44Z","created_by":"petardjukic","metadata":"{}"}],"comments":[{"id":15,"issue_id":"cobbler-dvv.2","author":"petardjukic","text":"tokens: 50000","created_at":"2026-02-26T04:12:56Z"}]}
{"id":"cobbler-dvv.3","title":"Report results and close","description":"deliverable_type: code\nrequired_reading:\n  - (results from previous sub-issues)\nfiles:\n  - (commit messages and issue comments)\nrequirements: |\n  Document the test run results:\n  - Date, pass rate, failures fixed, issues filed\n  - Commit all changes with stats\n  - Close the epic and trigger Phase 5 (PR creation)\nacceptance_criteria: |\n  - Test run results documented\n  - All changes committed with stats\n  - Epic closed, PR opened against main","status":"closed","priority":2,"issue_type":"task","owner":"petar.djukic@gmail.com","created_at":"2026-02-26T03:58:48Z","created_by":"petardjukic","updated_at":"2026-02-26T04:13:19Z","closed_at":"2026-02-26T04:13:19Z","close_reason":"Closed","dependencies":[{"issue_id":"cobbler-dvv.3","depends_on_id":"cobbler-dvv","type":"parent-child","created_at":"2026-02-25T22:58:47Z","created_by":"petardjukic","metadata":"{}"}],"comments":[{"id":16,"issue_id":"cobbler-dvv.3","author":"petardjukic","text":"tokens: 10000","created_at":"2026-02-26T04:13:18Z"}]}
{"id":"cobbler-eja","title":"GH-70: Add max_requirements_per_task limit to measure agent","description":"## Description\n\nThe measure agent has no upper bound on how many requirements (R1, R2, ...) a single proposed task can contain. This allows oversized tasks that the stitch agent cannot complete within output token limits or time constraints.\n\nIn go-unix-utils eng07, the measure agent proposed \"cmd/ts R1-R8\" as a single task. The stitch agent attempted to write the entire implementation in one response, exceeded Claude Code's 32k output token limit, and failed three times before the run was stopped manually.\n\n## Proposed Change\n\nAdd a new configuration.yaml field:\n\n  cobbler:\n      max_requirements_per_task: 5\n\nWhen the measure agent proposes a task with more requirements than this limit, the orchestrator should either:\n1. Reject and re-prompt: feed the oversized task back to the measure agent with instructions to split it, or\n2. Validate and warn: log a warning and proceed (soft limit)\n\n## Acceptance Criteria\n\n- New cobbler.max_requirements_per_task field in configuration schema (default 0 = unlimited)\n- Measure output validation counts requirement entries per proposed task\n- When a task exceeds the limit, the orchestrator either re-prompts or logs a warning\n- Existing tests pass; new test covers the validation path\n\nGitHub: petar-djukic/cobbler-scaffold#70","status":"closed","priority":2,"issue_type":"epic","owner":"petar.djukic@gmail.com","created_at":"2026-02-27T03:12:44Z","created_by":"petardjukic","updated_at":"2026-02-27T03:23:03Z","closed_at":"2026-02-27T03:23:03Z","close_reason":"All children completed"}
{"id":"cobbler-eja.2","title":"Add MaxRequirementsPerTask to config and enforce in measure validation","description":"deliverable_type: code\n\nrequired_reading:\n  - pkg/orchestrator/config.go:104-191 (CobblerConfig, applyDefaults)\n  - pkg/orchestrator/measure.go:579-660 (issueDescription, validateMeasureOutput, importIssuesImpl)\n  - pkg/orchestrator/measure_test.go (existing TestValidateMeasureOutput_* patterns)\n\nfiles:\n  - path: pkg/orchestrator/config.go\n    action: modify\n  - path: pkg/orchestrator/measure.go\n    action: modify\n  - path: pkg/orchestrator/measure_test.go\n    action: modify\n\nrequirements:\n  - id: R1\n    text: Add MaxRequirementsPerTask int with yaml tag max_requirements_per_task to CobblerConfig; set default 0 (unlimited) in applyDefaults\n  - id: R2\n    text: In measure validation, when MaxRequirementsPerTask \u003e 0 and a task's requirement count exceeds it, add a validation error (not warning) so the measure agent is re-prompted to split the task\n  - id: R3\n    text: The error message identifies which task exceeded the limit and by how many requirements (e.g., \"task 'X' has 8 requirements, max is 5\")\n\nacceptance_criteria:\n  - id: AC1\n    text: go test ./pkg/orchestrator/... passes\n  - id: AC2\n    text: Config field appears in YAML output with yaml:\"max_requirements_per_task\"\n  - id: AC3\n    text: validateMeasureOutput (or caller) returns an error for tasks exceeding the limit\n  - id: AC4\n    text: max_requirements_per_task 0 (default) produces no errors regardless of requirement count","status":"closed","priority":2,"issue_type":"task","owner":"petar.djukic@gmail.com","created_at":"2026-02-27T03:12:59Z","created_by":"petardjukic","updated_at":"2026-02-27T03:22:56Z","closed_at":"2026-02-27T03:22:56Z","close_reason":"Closed","dependencies":[{"issue_id":"cobbler-eja.2","depends_on_id":"cobbler-eja","type":"parent-child","created_at":"2026-02-26T22:12:58Z","created_by":"petardjukic","metadata":"{}"}],"comments":[{"id":46,"issue_id":"cobbler-eja.2","author":"petardjukic","text":"tokens: 12000","created_at":"2026-02-27T03:22:56Z"}]}
{"id":"cobbler-epa","title":"GH-66: Recurring: Full requirements coverage, test coverage, and code inspection audit","description":"Perform a comprehensive audit of the cobbler-scaffold codebase covering requirements traceability, test coverage, and code quality. Run #4.\n\n## Audit Protocol\n\n### 1. Requirements Coverage\n- Review all open and closed GitHub issues: are they reflected in the codebase?\n- Check that each feature in the magefiles has a corresponding test or validation\n- Identify undocumented behavior: code paths that exist but have no requirement or issue behind them\n- Verify that closed issues are actually implemented (not just closed)\n\n### 2. Test Coverage\n- Run go test -cover ./... and record per-package coverage percentages\n- Identify untested code paths, especially in:\n  - generator.go (start, stop, run, resume, reset lifecycle)\n  - stitch.go (worktree creation, task execution, merge-back)\n  - measure.go (prompt construction, issue parsing, validation)\n  - tag.go (v0/v1 tagging, container image builds)\n- Check edge cases: what happens on timeout, on merge conflict, on missing config?\n- Verify that the test suite runs clean on a fresh clone\n\n### 3. Code Inspection\n- Review error handling: are errors propagated correctly? Are there silent failures?\n- Check for hardcoded assumptions (e.g., main branch, specific directory names)\n- Look for race conditions in concurrent operations (parallel stitch, worktree management)\n- Verify resource cleanup: are worktrees, temp dirs, and processes always cleaned up?\n- Check that configuration.yaml fields are all consumed (no dead config)\n- Review logging: are operations traceable? Can failures be diagnosed from logs alone?\n\n## Baseline (Run #4)\nCoverage: 34.1%, 9660 prod LOC, 8332 test LOC\n\n## Previous Audits\n- #39 (2026-02-25): Coverage 22.2% -\u003e 24.8%, 37 new unit tests, 10 silent error swallowing fixes. PR #42.\n- #44 (2026-02-26): Coverage 31.6% -\u003e 32.7%, 18 new tests, 4 code fixes (race condition, error handling). PR #58.\n- #59 (2026-02-26): Coverage 32.7% -\u003e 34.0%, 17 new tests, removed 3 unused deps (cobra/pflag/mousetrap). PR #65.\n\nGitHub: petar-djukic/cobbler-scaffold#66","status":"closed","priority":2,"issue_type":"epic","owner":"petar.djukic@gmail.com","created_at":"2026-02-27T02:47:35Z","created_by":"petardjukic","updated_at":"2026-02-27T03:00:19Z","closed_at":"2026-02-27T03:00:19Z","close_reason":"All children completed","comments":[{"id":42,"issue_id":"cobbler-epa","author":"petardjukic","text":"Coverage delta: 34.1% -\u003e 35.0% (+0.9pp). Inspection findings: (1) stitch.go doOneTask HIGH: worktree leaked on buildStitchPrompt error -- filed cobbler-bnj. (2) tag.go MEDIUM: hardcoded v0. prefix and main branch -- filed cobbler-a90. (3) cobbler.go saveHistory*: intentional best-effort silent errors, covered by new tests. (4) generator.go: no issues found.","created_at":"2026-02-27T03:00:04Z"}]}
{"id":"cobbler-epa.1","title":"GH-66.1: Test coverage -- parseIssuesJSON, loadContextFileInto branches, ConstitutionPreviewFile","description":"deliverable_type: code\n\nrequired_reading:\n  - pkg/orchestrator/context.go:857-870 (parseIssuesJSON)\n  - pkg/orchestrator/context.go:1207-1272 (loadContextFileInto all branches)\n  - pkg/orchestrator/constitution_md.go (ConstitutionPreviewFile)\n  - pkg/orchestrator/context_test.go (existing tests, fixture patterns)\n  - pkg/orchestrator/constitution_md_test.go (existing tests)\n\nfiles:\n  - path: pkg/orchestrator/context_test.go\n    action: modify\n  - path: pkg/orchestrator/constitution_md_test.go\n    action: modify\n\nrequirements:\n  - id: R1\n    text: TestParseIssuesJSON -- 4 cases; valid JSON array, empty string \"\", literal \"[]\", malformed JSON\n  - id: R2\n    text: TestLoadContextFileInto_SpecAux -- covers spec_aux branch for dependency-map.yaml, sources.yaml, and unknown filename (falls to Extra)\n  - id: R3\n    text: TestLoadContextFileInto_Engineering -- covers engineering branch; result appended to ctx.Engineering\n  - id: R4\n    text: TestLoadContextFileInto_Extra -- covers extra branch; result appended to ctx.Extra\n  - id: R5\n    text: TestConstitutionPreviewFile_Success -- passes a real constitution YAML path; verifies no error\n  - id: R6\n    text: TestConstitutionPreviewFile_EmptySections -- YAML with no sections field; verifies error returned\n  - id: R7\n    text: TestConstitutionPreviewFile_Missing -- non-existent path; verifies error returned\n\nacceptance_criteria:\n  - id: AC1\n    text: go test ./pkg/orchestrator/ passes and coverage of parseIssuesJSON rises to 100%\n  - id: AC2\n    text: coverage of loadContextFileInto rises above 80%\n  - id: AC3\n    text: ConstitutionPreviewFile has \u003e= 3 test cases covering the three outcomes","status":"closed","priority":2,"issue_type":"task","owner":"petar.djukic@gmail.com","created_at":"2026-02-27T02:47:48Z","created_by":"petardjukic","updated_at":"2026-02-27T02:52:39Z","closed_at":"2026-02-27T02:52:39Z","close_reason":"Closed","dependencies":[{"issue_id":"cobbler-epa.1","depends_on_id":"cobbler-epa","type":"parent-child","created_at":"2026-02-26T21:47:47Z","created_by":"petardjukic","metadata":"{}"}],"comments":[{"id":40,"issue_id":"cobbler-epa.1","author":"petardjukic","text":"tokens: 28000","created_at":"2026-02-27T02:52:38Z"}]}
{"id":"cobbler-epa.2","title":"GH-66.2: Test coverage -- commands.go init/orDefault, stitch.go buildStitchPrompt edge cases","description":"deliverable_type: code\n\nrequired_reading:\n  - pkg/orchestrator/commands.go:34-48 (orDefault, init)\n  - pkg/orchestrator/stitch.go:587-679 (buildStitchPrompt)\n  - pkg/orchestrator/commands_test.go (existing tests)\n  - pkg/orchestrator/stitch_test.go (existing tests)\n\nfiles:\n  - path: pkg/orchestrator/commands_test.go\n    action: modify\n  - path: pkg/orchestrator/stitch_test.go\n    action: modify\n\nrequirements:\n  - id: R1\n    text: TestOrDefault -- 3 cases; non-empty path returns unchanged, empty path returns default, both empty returns empty\n  - id: R2\n    text: TestCommandsInit -- verifies that the commands package init() populates toolPaths without panic on the current platform\n  - id: R3\n    text: TestBuildStitchPrompt_ConstitutionDocs -- verifies buildStitchPrompt includes ConstitutionDocs when constitutions directory is present in the project\n  - id: R4\n    text: TestBuildStitchPrompt_NilContext -- verifies buildStitchPrompt returns an error when buildProjectContext cannot assemble context (e.g., missing project dirs)\n\nacceptance_criteria:\n  - id: AC1\n    text: go test ./pkg/orchestrator/ passes\n  - id: AC2\n    text: orDefault coverage rises to 100%\n  - id: AC3\n    text: buildStitchPrompt coverage rises above 75%","status":"closed","priority":2,"issue_type":"task","owner":"petar.djukic@gmail.com","created_at":"2026-02-27T02:47:57Z","created_by":"petardjukic","updated_at":"2026-02-27T02:56:59Z","closed_at":"2026-02-27T02:56:59Z","close_reason":"Closed","dependencies":[{"issue_id":"cobbler-epa.2","depends_on_id":"cobbler-epa","type":"parent-child","created_at":"2026-02-26T21:47:56Z","created_by":"petardjukic","metadata":"{}"}],"comments":[{"id":41,"issue_id":"cobbler-epa.2","author":"petardjukic","text":"tokens: 15000","created_at":"2026-02-27T02:56:58Z"}]}
{"id":"cobbler-epa.3","title":"GH-66.3: Code inspection -- error handling, cleanup, requirements coverage","description":"deliverable_type: code\n\nrequired_reading:\n  - pkg/orchestrator/generator.go (goroutine lifecycle, worktree cleanup)\n  - pkg/orchestrator/cobbler.go (saveHistory* functions, error propagation)\n  - pkg/orchestrator/stitch.go:380-555 (doOneTask, error handling)\n  - pkg/orchestrator/tag.go (nextDocRevision, hardcoded assumptions)\n  - pkg/orchestrator/config.go (dead config fields)\n  - pkg/orchestrator/cobbler_test.go (existing tests)\n\nfiles:\n  - path: pkg/orchestrator/cobbler_test.go\n    action: modify\n    note: add tests for any silent-error paths discovered\n\nrequirements:\n  - id: R1\n    text: Review each saveHistory* function (saveHistoryReport, saveHistoryStats, saveHistoryPrompt, saveHistoryLog) for silent error swallowing; add tests for any found\n  - id: R2\n    text: Review generator.go for goroutine leaks or unchecked cleanup paths; file a beads issue for any found\n  - id: R3\n    text: Review stitch.go doOneTask for silent errors or resources not cleaned up on error paths; file issues for any found\n  - id: R4\n    text: Check tag.go nextDocRevision for hardcoded assumptions (branch names, file patterns); document findings\n  - id: R5\n    text: Verify all closed GitHub issues from this session (GH-60, GH-62, GH-64) are implemented as expected; note any gaps\n\nacceptance_criteria:\n  - id: AC1\n    text: go test ./pkg/orchestrator/ passes\n  - id: AC2\n    text: Coverage total rises to at least 35.0%\n  - id: AC3\n    text: Any silent error paths found are covered by new tests or filed as issues\n  - id: AC4\n    text: A bd comment on the epic summarizes coverage delta and inspection findings","status":"closed","priority":2,"issue_type":"task","owner":"petar.djukic@gmail.com","created_at":"2026-02-27T02:48:09Z","created_by":"petardjukic","updated_at":"2026-02-27T03:00:08Z","closed_at":"2026-02-27T03:00:08Z","close_reason":"Closed","dependencies":[{"issue_id":"cobbler-epa.3","depends_on_id":"cobbler-epa","type":"parent-child","created_at":"2026-02-26T21:48:08Z","created_by":"petardjukic","metadata":"{}"}],"comments":[{"id":43,"issue_id":"cobbler-epa.3","author":"petardjukic","text":"tokens: 22000","created_at":"2026-02-27T03:00:08Z"}]}
{"id":"cobbler-jnm","title":"GH-63: Recurring: Run mage test:usecase and fix failures","description":"Run the use case test suite (mage test:usecase) against the current cobbler-scaffold codebase, identify failures, and fix them.\n\nGitHub: petar-djukic/cobbler-scaffold#63","status":"closed","priority":2,"issue_type":"epic","owner":"petar.djukic@gmail.com","created_at":"2026-02-27T03:47:58Z","created_by":"petardjukic","updated_at":"2026-02-27T03:48:40Z","closed_at":"2026-02-27T03:48:40Z","close_reason":"All children completed"}
{"id":"cobbler-jnm.1","title":"Run mage test:usecase, triage results, and report","description":"deliverable_type: task\n\n## Required Reading\n\nNone — test output from current run is the primary input.\n\n## Acceptance Criteria\n\n- AC1: mage test:usecase passes (65/65)\n- AC2: Transient UC002 failure triaged and documented\n- AC3: Results reported as a comment on this issue","status":"closed","priority":2,"issue_type":"task","owner":"petar.djukic@gmail.com","created_at":"2026-02-27T03:48:05Z","created_by":"petardjukic","updated_at":"2026-02-27T03:48:39Z","closed_at":"2026-02-27T03:48:39Z","close_reason":"Closed","dependencies":[{"issue_id":"cobbler-jnm.1","depends_on_id":"cobbler-jnm","type":"parent-child","created_at":"2026-02-26T22:48:05Z","created_by":"petardjukic","metadata":"{}"}],"comments":[{"id":49,"issue_id":"cobbler-jnm.1","author":"petardjukic","text":"Test run: 2026-02-26\n\nResults: 65/65 pass\n\nSuites:\n- uc001 (init/reset): 14/14 pass\n- uc002 (generator lifecycle): 10/10 pass (see transient note)\n- uc003 (measure): 4/4 pass\n- uc004 (stitch): 5/5 pass\n- uc005 (resume): 6/6 pass\n- uc006 (scaffold): 7/7 pass\n- uc007 (build/stats): 7/7 pass\n\nTransient failure triage:\n- TestRel01_UC002_RunOneCycle failed on first run with exit status 137 (SIGKILL). The test runs a full measure cycle with Claude under concurrent load from 9 other parallel UC002 tests; SIGKILL indicates system memory pressure, not a code defect. Re-run passed in 52s. Verdict: transient/environment.\n\nNo regressions. No new issues filed.\n\ntokens: 9000","created_at":"2026-02-27T03:48:33Z"}]}
{"id":"cobbler-k4t","title":"GH-53: context_include bypasses Vision/Architecture/Roadmap structured parsing","description":"When context_include is set, buildProjectContext replaces standard file resolution. Vision, Architecture, and Roadmap documents lose typed parsing — loaded as generic NamedDoc entries or silently dropped. Additionally, markdown files fail YAML parsing silently. Fix by ensuring standard typed documents are always loaded regardless of context_include patterns, and handle non-YAML files gracefully.\n\nGitHub: petar-djukic/cobbler-scaffold#53","status":"closed","priority":2,"issue_type":"epic","owner":"petar.djukic@gmail.com","created_at":"2026-02-26T21:24:04Z","created_by":"petardjukic","updated_at":"2026-02-26T21:28:46Z","closed_at":"2026-02-26T21:28:46Z","close_reason":"All children completed"}
{"id":"cobbler-k4t.1","title":"Ensure standard typed documents are always loaded when context_include is set","description":"deliverable_type: code\n\nrequired_reading:\n  - pkg/orchestrator/context.go (buildProjectContext, resolveStandardFiles, classifyContextFile, loadContextFileInto, loadNamedDoc)\n\nfiles:\n  - path: pkg/orchestrator/context.go\n    action: modify\n    note: Add ensureTypedDocs to merge standard typed docs into context_include set; fix loadNamedDoc for non-YAML\n\nrequirements:\n  - id: R1\n    text: After resolving context_include files, check if core typed documents exist on disk and add them if missing from resolved set\n  - id: R2\n    text: Modify loadNamedDoc to handle non-YAML files by loading as raw text instead of silently dropping\n  - id: R3\n    text: context_include path must produce vision=true arch=true roadmap=true when those files exist\n\nacceptance_criteria:\n  - id: AC1\n    text: buildProjectContext with context_include logs vision=true arch=true roadmap=true when files exist\n  - id: AC2\n    text: Markdown files loaded via context_include are not silently dropped\n  - id: AC3\n    text: Existing tests pass","status":"closed","priority":2,"issue_type":"task","owner":"petar.djukic@gmail.com","created_at":"2026-02-26T21:24:12Z","created_by":"petardjukic","updated_at":"2026-02-26T21:26:39Z","closed_at":"2026-02-26T21:26:39Z","close_reason":"Closed","dependencies":[{"issue_id":"cobbler-k4t.1","depends_on_id":"cobbler-k4t","type":"parent-child","created_at":"2026-02-26T16:24:11Z","created_by":"petardjukic","metadata":"{}"}],"comments":[{"id":27,"issue_id":"cobbler-k4t.1","author":"petardjukic","text":"tokens: 40000","created_at":"2026-02-26T21:26:39Z"}]}
{"id":"cobbler-k4t.2","title":"Add unit tests for context_include typed document loading","description":"deliverable_type: code\n\nrequired_reading:\n  - pkg/orchestrator/context.go (buildProjectContext, loadNamedDoc, classifyContextFile)\n  - pkg/orchestrator/context_test.go (existing context tests)\n\nfiles:\n  - path: pkg/orchestrator/context_test.go\n    action: modify\n    note: Tests for typed doc loading with context_include and markdown handling\n\nrequirements:\n  - id: R1\n    text: Test buildProjectContext with context_include still loads Vision when file exists\n  - id: R2\n    text: Test loadNamedDoc handles markdown files without returning nil\n  - id: R3\n    text: Test classifyContextFile returns correct types for all known document paths\n\nacceptance_criteria:\n  - id: AC1\n    text: All new tests pass\n  - id: AC2\n    text: Full test suite passes","status":"closed","priority":2,"issue_type":"task","owner":"petar.djukic@gmail.com","created_at":"2026-02-26T21:24:18Z","created_by":"petardjukic","updated_at":"2026-02-26T21:28:29Z","closed_at":"2026-02-26T21:28:29Z","close_reason":"Closed","dependencies":[{"issue_id":"cobbler-k4t.2","depends_on_id":"cobbler-k4t","type":"parent-child","created_at":"2026-02-26T16:24:17Z","created_by":"petardjukic","metadata":"{}"}],"comments":[{"id":28,"issue_id":"cobbler-k4t.2","author":"petardjukic","text":"tokens: 20000","created_at":"2026-02-26T21:28:28Z"}]}
{"id":"cobbler-qwj","title":"GH-33: Cross-generation differential comparison via mage compare","description":"Add a mage compare \u003ctag-A\u003e \u003ctag-B\u003e [utility] target that builds binaries from two git tags and runs differential tests between them. Enables cross-generation regression testing: comparing generation N against generation N+1, or any generation against GNU reference binaries.\n\nKey components:\n- BinaryResolver interface with GitTagResolver, GNUResolver, PathResolver implementations\n- Test case loader from YAML spec test suites\n- Comparison runner with structured pass/fail output\n- mage compare:run target\n\nGitHub: petar-djukic/cobbler-scaffold#33","status":"closed","priority":2,"issue_type":"epic","owner":"petar.djukic@gmail.com","created_at":"2026-02-26T02:07:02Z","created_by":"petardjukic","updated_at":"2026-02-26T02:27:14Z","closed_at":"2026-02-26T02:27:14Z","close_reason":"All children completed"}
{"id":"cobbler-qwj.1","title":"PRD and use case for differential comparison","description":"## Required Reading\n- docs/VISION.yaml\n- docs/ARCHITECTURE.yaml\n- docs/constitutions/design.yaml (document_types: prd-format, use-case-format)\n- docs/road-map.yaml\n- docs/specs/product-requirements/prd001-orchestrator-core.yaml (pattern reference)\n- docs/specs/product-requirements/prd003-cobbler-workflows.yaml (pattern reference)\n- docs/specs/use-cases/rel01.0-uc004-stitch-workflow.yaml (pattern reference)\n- docs/engineering/golden-example-measure.yaml (references prd004)\n- docs/SPECIFICATIONS.yaml (notes prd004 gap)\n\n## Files to Create\n- docs/specs/product-requirements/prd004-differential-comparison.yaml\n- docs/specs/use-cases/rel03.0-uc001-cross-generation-comparison.yaml\n\n## Files to Modify\n- docs/road-map.yaml (add rel03.0 with uc001)\n\n## Requirements\n1. PRD covers: BinaryResolver interface, GitTag/GNU/Path resolver implementations, test case loading from YAML specs, comparison execution, structured output, worktree cleanup\n2. Use case covers: compare two generation tags, compare against GNU reference, single-utility comparison, structured result reporting\n3. Road-map updated with rel03.0 containing the new use case\n4. Fill the prd004 numbering gap noted in SPECIFICATIONS.yaml\n\n## Design Decisions\n- Follow existing PRD format (prd-format from design.yaml)\n- Number requirements R1-R6 covering: resolver interface, git tag resolution, GNU resolution, test case loading, comparison execution, output formatting\n- Use case follows existing pattern with preconditions, flow steps, success criteria, and touchpoints tracing to PRD requirements\n\n## Acceptance Criteria\n- mage analyze passes (no orphaned PRDs, use case in roadmap, traces valid)\n- PRD traces to VISION and ARCHITECTURE\n- Use case traces to PRD via touchpoints\n- road-map.yaml includes rel03.0","status":"closed","priority":2,"issue_type":"task","owner":"petar.djukic@gmail.com","created_at":"2026-02-26T02:07:14Z","created_by":"petardjukic","updated_at":"2026-02-26T02:19:47Z","closed_at":"2026-02-26T02:19:47Z","close_reason":"Closed","dependencies":[{"issue_id":"cobbler-qwj.1","depends_on_id":"cobbler-qwj","type":"parent-child","created_at":"2026-02-25T21:07:14Z","created_by":"petardjukic","metadata":"{}"}],"comments":[{"id":3,"issue_id":"cobbler-qwj.1","author":"petardjukic","text":"tokens: 0","created_at":"2026-02-26T02:19:46Z"}]}
{"id":"cobbler-qwj.2","title":"BinaryResolver interface and implementations","description":"## Required Reading\n- docs/specs/product-requirements/prd004-differential-comparison.yaml (created in sub-issue 1)\n- pkg/orchestrator/commands.go (git worktree wrappers: gitWorktreeAdd, gitWorktreeRemove)\n- pkg/orchestrator/build.go (go build patterns)\n- pkg/orchestrator/config.go (Config struct, project settings)\n- pkg/orchestrator/stitch.go (worktree lifecycle pattern)\n\n## Files to Create\n- pkg/orchestrator/compare.go\n\n## Requirements\n1. BinaryResolver interface: Resolve(utility string) (path string, cleanup func(), err error)\n2. GitTagResolver{Tag string}: creates temp worktree from git tag, discovers cmd/ packages, builds each with go build, returns binary path. cleanup removes worktree and temp build dir.\n3. GNUResolver{}: resolves Homebrew reference binaries via exec.LookPath. Coreutils use g-prefix (cat-\u003egcat, wc-\u003egwc). Moreutils use unprefixed names (ts-\u003ets, sponge-\u003esponge). Returns binary path on PATH; cleanup is no-op.\n4. PathResolver{Dir string}: resolves pre-built binaries from a directory. Returns filepath.Join(Dir, utility); cleanup is no-op.\n5. ResolverFromArg(arg string) BinaryResolver: factory that selects resolver based on argument — \"gnu\" -\u003e GNUResolver, directory path -\u003e PathResolver, otherwise -\u003e GitTagResolver.\n6. ListUtilities(resolver BinaryResolver) ([]string, error): discovers available utilities for a resolver.\n\n## Design Decisions\n- Use existing gitWorktreeAdd/Remove from commands.go for worktree lifecycle\n- GitTagResolver builds into a temp directory (os.MkdirTemp), not into the worktree itself\n- GNUResolver maintains a map of utility -\u003e binary name for the g-prefix convention\n- cleanup functions are idempotent (safe to call multiple times)\n\n## Acceptance Criteria\n- All three resolvers compile and handle errors with wrapped context\n- GitTagResolver creates and cleans up worktrees\n- GNUResolver resolves coreutils and moreutils correctly\n- PathResolver validates binary exists at path\n- Code compiles: go build ./...","status":"closed","priority":2,"issue_type":"task","owner":"petar.djukic@gmail.com","created_at":"2026-02-26T02:07:29Z","created_by":"petardjukic","updated_at":"2026-02-26T02:21:04Z","closed_at":"2026-02-26T02:21:04Z","close_reason":"Closed","dependencies":[{"issue_id":"cobbler-qwj.2","depends_on_id":"cobbler-qwj","type":"parent-child","created_at":"2026-02-25T21:07:29Z","created_by":"petardjukic","metadata":"{}"}],"comments":[{"id":4,"issue_id":"cobbler-qwj.2","author":"petardjukic","text":"tokens: 0","created_at":"2026-02-26T02:21:03Z"}]}
{"id":"cobbler-qwj.3","title":"Test case loader and comparison runner","description":"## Required Reading\n- docs/specs/product-requirements/prd004-differential-comparison.yaml\n- docs/specs/test-suites/test-rel01.0.yaml (test suite YAML structure)\n- pkg/orchestrator/context.go (YAML loading patterns)\n- pkg/orchestrator/compare.go (BinaryResolver interface, created in sub-issue 2)\n\n## Files to Create\n- pkg/orchestrator/testloader.go\n\n## Requirements\n1. TestCase struct modeling a test case from YAML specs: name, utility, stdin input, args, expected stdout, expected stderr, expected exit code.\n2. LoadTestCases(specsDir string) ([]TestCase, error): reads test suite YAML files from docs/specs/test-suites/, extracts test cases with inputs and expected outputs. Filters to cases that have concrete inputs/expected (skips Go-test-only entries).\n3. FilterByUtility(cases []TestCase, utility string) []TestCase: filters test cases to a single utility.\n4. CompareUtility(binA, binB string, cases []TestCase) []TestResult: runs both binaries with identical inputs for each test case, compares stdout byte-for-byte, stderr, and exit code.\n5. TestResult struct: utility, test name, passed bool, expected/actual diffs for stdout/stderr/exit code.\n6. FormatResults(results []TestResult) string: structured text output showing pass/fail per utility per test case with summary counts.\n\n## Design Decisions\n- Test cases loaded from YAML specs (not from _test.go files) so any two implementations can be compared\n- Comparison is byte-for-byte on stdout; stderr and exit code compared separately\n- Each test case executed with a timeout (configurable, default 10s)\n- Results collected in memory, formatted at the end (not streamed)\n\n## Acceptance Criteria\n- Loader parses existing test-rel01.0.yaml structure\n- CompareUtility produces correct pass/fail for matching and differing outputs\n- FormatResults produces readable structured output\n- Code compiles: go build ./...","status":"closed","priority":2,"issue_type":"task","owner":"petar.djukic@gmail.com","created_at":"2026-02-26T02:07:44Z","created_by":"petardjukic","updated_at":"2026-02-26T02:24:18Z","closed_at":"2026-02-26T02:24:18Z","close_reason":"Closed","dependencies":[{"issue_id":"cobbler-qwj.3","depends_on_id":"cobbler-qwj","type":"parent-child","created_at":"2026-02-25T21:07:43Z","created_by":"petardjukic","metadata":"{}"}],"comments":[{"id":5,"issue_id":"cobbler-qwj.3","author":"petardjukic","text":"tokens: 12000","created_at":"2026-02-26T02:24:18Z"}]}
{"id":"cobbler-qwj.4","title":"Mage target, orchestrator method, and tests","description":"## Required Reading\n- docs/specs/product-requirements/prd004-differential-comparison.yaml\n- magefiles/magefile.go (namespace pattern, newOrch(), target signatures)\n- pkg/orchestrator/orchestrator.go (Orchestrator struct, public methods)\n- pkg/orchestrator/compare.go (BinaryResolver, resolvers)\n- pkg/orchestrator/testloader.go (LoadTestCases, CompareUtility, FormatResults)\n\n## Files to Create\n- pkg/orchestrator/compare_test.go\n\n## Files to Modify\n- magefiles/magefile.go (add Compare namespace and Run target)\n\n## Requirements\n1. Compare method on Orchestrator: Compare(tagA, tagB, utility string) error\n   - Creates resolvers for both arguments via ResolverFromArg\n   - Loads test cases from specs dir\n   - Optionally filters by utility\n   - Discovers utilities from both resolvers, intersects to find common set\n   - For each common utility: resolves both binaries, runs comparison, collects results\n   - Cleans up all resolver resources (deferred)\n   - Formats and prints results; returns error if any test failed\n2. Compare mage namespace with Run target:\n   type Compare mg.Namespace\n   func (Compare) Run(tagA, tagB string) error — compares all utilities\n   Utility filtering via environment variable or additional target\n3. Unit tests for:\n   - PathResolver (create temp binaries, verify resolution)\n   - GNUResolver (verify g-prefix mapping for known utilities)\n   - ResolverFromArg (factory selection logic)\n   - FormatResults (output formatting)\n4. Integration test (if git available): GitTagResolver with a known tag\n\n## Design Decisions\n- Compare method lives on Orchestrator for access to config (specs dir, source dirs)\n- Mage target uses environment variable UTILITY for single-utility filtering (mage limitation: no optional positional args)\n- Tests use PathResolver with temp dirs to avoid git/build dependencies in unit tests\n- Integration tests gated on environment (skip if no git repo)\n\n## Acceptance Criteria\n- go build ./... passes\n- go test ./pkg/orchestrator/ passes (new tests)\n- mage -l shows compare:run target\n- mage compare:run \u003ctagA\u003e \u003ctagB\u003e executes end-to-end (manual verification)","status":"closed","priority":2,"issue_type":"task","owner":"petar.djukic@gmail.com","created_at":"2026-02-26T02:08:00Z","created_by":"petardjukic","updated_at":"2026-02-26T02:26:29Z","closed_at":"2026-02-26T02:26:29Z","close_reason":"Closed","dependencies":[{"issue_id":"cobbler-qwj.4","depends_on_id":"cobbler-qwj","type":"parent-child","created_at":"2026-02-25T21:08:00Z","created_by":"petardjukic","metadata":"{}"}],"comments":[{"id":6,"issue_id":"cobbler-qwj.4","author":"petardjukic","text":"tokens: 15000","created_at":"2026-02-26T02:26:28Z"}]}
{"id":"cobbler-qwo","title":"GH-39: Full requirements coverage, test coverage, and code inspection audit","description":"Perform a comprehensive audit of the cobbler-scaffold codebase covering requirements traceability, test coverage, and code quality. This is a recurring task — create a new instance after each audit.\n\nAudit Protocol:\n1. Requirements Coverage - Review all GitHub issues, check feature tests, identify undocumented behavior\n2. Test Coverage - Run go test -cover, identify untested code paths\n3. Code Inspection - Error handling, hardcoded assumptions, race conditions, resource cleanup\n4. Cross-Repository Consistency - Verify symlinked magefiles, configuration.yaml schema\n\nGitHub: petar-djukic/cobbler-scaffold#39","status":"closed","priority":2,"issue_type":"epic","owner":"petar.djukic@gmail.com","created_at":"2026-02-26T03:13:02Z","created_by":"petardjukic","updated_at":"2026-02-26T04:13:19Z","closed_at":"2026-02-26T04:13:19Z","close_reason":"All children completed"}
{"id":"cobbler-qwo.2","title":"Requirements coverage audit","description":"Type: documentation\n\nRequired Reading:\n- All closed GitHub issues (via gh issue list --state closed)\n- docs/specs/product-requirements/*.yaml\n- docs/specs/use-cases/*.yaml\n- magefiles/magefile.go\n- docs/road-map.yaml\n\nFiles to Create:\n- docs/audits/audit-2026-02-25-requirements.yaml\n\nRequirements:\n- Cross-reference every closed GitHub issue against implemented code and specs\n- Identify mage targets without corresponding PRD requirements\n- Check for undocumented behavior (code paths with no requirement or issue)\n- Verify that closed issues are actually implemented, not just closed\n\nAcceptance Criteria:\n- Every closed issue verified as implemented or documented as gap\n- Every mage target traced to a PRD requirement\n- Gaps filed as new GitHub issues","status":"closed","priority":2,"issue_type":"task","owner":"petar.djukic@gmail.com","created_at":"2026-02-26T03:13:51Z","created_by":"petardjukic","updated_at":"2026-02-26T03:19:23Z","closed_at":"2026-02-26T03:19:23Z","close_reason":"Closed","dependencies":[{"issue_id":"cobbler-qwo.2","depends_on_id":"cobbler-qwo","type":"parent-child","created_at":"2026-02-25T22:13:51Z","created_by":"petardjukic","metadata":"{}"}],"comments":[{"id":9,"issue_id":"cobbler-qwo.2","author":"petardjukic","text":"tokens: 120000","created_at":"2026-02-26T03:19:22Z"}]}
{"id":"cobbler-qwo.3","title":"Test coverage analysis and gap filling","description":"Type: code\n\nRequired Reading:\n- pkg/orchestrator/*.go\n- pkg/orchestrator/*_test.go\n- magefiles/magefile.go\n\nFiles to Create/Modify:\n- docs/audits/audit-2026-02-25-coverage.yaml\n- pkg/orchestrator/*_test.go (new tests for gaps)\n\nRequirements:\n- Run go test -cover ./... and record per-package coverage\n- Identify untested code paths in generator, stitch, measure, tag, and compare\n- Identify edge cases: timeout, merge conflict, missing config\n- Write missing unit tests for the highest-severity gaps\n\nAcceptance Criteria:\n- Per-package coverage percentages recorded\n- Top untested paths identified with severity\n- At least 3 new unit tests added for high-severity gaps","status":"closed","priority":2,"issue_type":"task","owner":"petar.djukic@gmail.com","created_at":"2026-02-26T03:13:54Z","created_by":"petardjukic","updated_at":"2026-02-26T03:25:15Z","closed_at":"2026-02-26T03:25:15Z","close_reason":"Closed","dependencies":[{"issue_id":"cobbler-qwo.3","depends_on_id":"cobbler-qwo","type":"parent-child","created_at":"2026-02-25T22:13:54Z","created_by":"petardjukic","metadata":"{}"}],"comments":[{"id":10,"issue_id":"cobbler-qwo.3","author":"petardjukic","text":"tokens: 80000","created_at":"2026-02-26T03:25:15Z"}]}
{"id":"cobbler-qwo.4","title":"Code inspection: error handling and resource cleanup","description":"Type: code\n\nRequired Reading:\n- pkg/orchestrator/generator.go\n- pkg/orchestrator/stitch.go\n- pkg/orchestrator/measure.go\n- pkg/orchestrator/tag.go\n- pkg/orchestrator/compare.go\n\nFiles to Modify:\n- Production code files where issues are found\n\nRequirements:\n- Review error propagation for silent failures\n- Check resource cleanup (worktrees, temp dirs, processes)\n- Check for hardcoded assumptions (main branch, directory names)\n- Review logging for traceability\n\nAcceptance Criteria:\n- All silent error swallowing fixed\n- Resource cleanup verified or corrected\n- Hardcoded assumptions documented or parameterized\n- No new issues introduced","status":"closed","priority":2,"issue_type":"task","owner":"petar.djukic@gmail.com","created_at":"2026-02-26T03:13:59Z","created_by":"petardjukic","updated_at":"2026-02-26T03:29:20Z","closed_at":"2026-02-26T03:29:20Z","close_reason":"Closed","dependencies":[{"issue_id":"cobbler-qwo.4","depends_on_id":"cobbler-qwo","type":"parent-child","created_at":"2026-02-25T22:13:58Z","created_by":"petardjukic","metadata":"{}"}],"comments":[{"id":11,"issue_id":"cobbler-qwo.4","author":"petardjukic","text":"tokens: 60000","created_at":"2026-02-26T03:29:20Z"}]}
{"id":"cobbler-qwo.5","title":"Code inspection: concurrency and configuration","description":"Type: code\n\nRequired Reading:\n- pkg/orchestrator/stitch.go\n- pkg/orchestrator/orchestrator.go\n- pkg/orchestrator/config.go\n- configuration.yaml (template)\n\nFiles to Modify:\n- Production code files where issues are found\n\nRequirements:\n- Check for race conditions in parallel stitch and worktree management\n- Verify all configuration.yaml fields are consumed (no dead config)\n- Check that config schema matches code expectations\n\nAcceptance Criteria:\n- Race conditions identified and fixed or documented\n- Dead config fields removed\n- Config schema consistent between template and code","status":"closed","priority":2,"issue_type":"task","owner":"petar.djukic@gmail.com","created_at":"2026-02-26T03:14:02Z","created_by":"petardjukic","updated_at":"2026-02-26T03:50:49Z","closed_at":"2026-02-26T03:50:49Z","close_reason":"Closed","dependencies":[{"issue_id":"cobbler-qwo.5","depends_on_id":"cobbler-qwo","type":"parent-child","created_at":"2026-02-25T22:14:01Z","created_by":"petardjukic","metadata":"{}"}],"comments":[{"id":12,"issue_id":"cobbler-qwo.5","author":"petardjukic","text":"tokens: 50000","created_at":"2026-02-26T03:50:48Z"}]}
{"id":"cobbler-qwo.6","title":"Cross-repository consistency check","description":"Type: documentation\n\nRequired Reading:\n- magefiles/magefile.go\n- pkg/orchestrator/scaffold.go\n- Consumer repo configuration (go-unix-utils)\n\nFiles to Create:\n- docs/audits/audit-2026-02-25-crossrepo.yaml\n\nRequirements:\n- Verify scaffold:push produces a working orchestrator.go in consumer repos\n- Verify configuration.yaml schema matches code expectations\n- Check mage targets work when symlinked\n\nAcceptance Criteria:\n- Scaffold push verified\n- Config schema documented\n- Any discrepancies filed as issues","status":"closed","priority":2,"issue_type":"task","owner":"petar.djukic@gmail.com","created_at":"2026-02-26T03:14:06Z","created_by":"petardjukic","updated_at":"2026-02-26T03:52:42Z","closed_at":"2026-02-26T03:52:42Z","close_reason":"Closed","dependencies":[{"issue_id":"cobbler-qwo.6","depends_on_id":"cobbler-qwo","type":"parent-child","created_at":"2026-02-25T22:14:06Z","created_by":"petardjukic","metadata":"{}"}],"comments":[{"id":13,"issue_id":"cobbler-qwo.6","author":"petardjukic","text":"tokens: 40000","created_at":"2026-02-26T03:52:42Z"}]}
{"id":"cobbler-qwo.7","title":"Audit summary and issue filing","description":"Type: documentation\n\nRequired Reading:\n- Outputs from sub-issues 1-5\n- docs/audits/audit-2026-02-25-*.yaml\n\nFiles to Create:\n- docs/audits/audit-2026-02-25-summary.yaml\n\nRequirements:\n- Consolidate findings into a summary report\n- File new GitHub issues for all problems found\n- Record coverage trend baseline for future audits\n\nAcceptance Criteria:\n- Summary report complete\n- All findings have corresponding GitHub issues\n- Coverage baseline recorded for future audits","status":"closed","priority":2,"issue_type":"task","owner":"petar.djukic@gmail.com","created_at":"2026-02-26T03:14:08Z","created_by":"petardjukic","updated_at":"2026-02-26T03:53:28Z","closed_at":"2026-02-26T03:53:28Z","close_reason":"Closed","dependencies":[{"issue_id":"cobbler-qwo.7","depends_on_id":"cobbler-qwo","type":"parent-child","created_at":"2026-02-25T22:14:08Z","created_by":"petardjukic","metadata":"{}"}],"comments":[{"id":14,"issue_id":"cobbler-qwo.7","author":"petardjukic","text":"tokens: 30000","created_at":"2026-02-26T03:53:27Z"}]}
{"id":"cobbler-rrl","title":"GH-74: tag.go nextDocRevision: hardcoded v0. prefix and main branch assumption","description":"## Description\n\n`tag.go` hardcodes `v0.` as the documentation tag prefix and assumes tags are always created from `main`. This prevents projects that use different versioning schemes from adopting the tagging functionality without modifying the source.\n\n## Affected code\n\n`pkg/orchestrator/tag.go:23-100`\n\n- `Tag()` (line 29): checks `current != \"main\"` — hardcoded branch name\n- `Tag()` (line 40): emits `\"v0.\" + date + \".\" + rev` — hardcoded prefix\n- `nextDocRevision()` (line 76): pattern `\"v0.%s.*\"` — hardcoded prefix\n- `nextDocRevision()` (line 84): regex `^v0\\.` — hardcoded prefix\n\nGitHub: petar-djukic/cobbler-scaffold#74","status":"closed","priority":2,"issue_type":"epic","owner":"petar.djukic@gmail.com","created_at":"2026-02-27T03:29:37Z","created_by":"petardjukic","updated_at":"2026-02-27T03:31:33Z","closed_at":"2026-02-27T03:31:33Z","close_reason":"All children completed"}
{"id":"cobbler-rrl.1","title":"Add DocTagPrefix and BaseBranch to CobblerConfig; use them in Tag() and nextDocRevision()","description":"deliverable_type: code\n\n## Required Reading\n\n- pkg/orchestrator/config.go — CobblerConfig struct and applyDefaults\n- pkg/orchestrator/tag.go — Tag() and nextDocRevision()\n\n## Files to Modify\n\n- pkg/orchestrator/config.go\n- pkg/orchestrator/tag.go\n\n## Files to Create\n\n- pkg/orchestrator/tag_test.go\n\n## Requirements\n\n- R1: Add `DocTagPrefix string \\`yaml:\"doc_tag_prefix\"\\`` to CobblerConfig; applyDefaults sets it to \"v0.\" when empty\n- R2: Add `BaseBranch string \\`yaml:\"base_branch\"\\`` to CobblerConfig; applyDefaults sets it to \"main\" when empty\n- R3: Tag() uses o.cfg.Cobbler.BaseBranch for the branch guard\n- R4: Tag() builds the tag name using o.cfg.Cobbler.DocTagPrefix\n- R5: nextDocRevision accepts prefix string as its first argument and uses it in both the glob pattern and the regex\n\n## Acceptance Criteria\n\n- AC1: go test ./pkg/orchestrator/... passes\n- AC2: TestNextDocRevision_DefaultPrefix passes\n- AC3: TestNextDocRevision_CustomPrefix passes\n- AC4: TestTag_WrongBranch returns error when branch != BaseBranch","status":"closed","priority":2,"issue_type":"task","owner":"petar.djukic@gmail.com","created_at":"2026-02-27T03:29:45Z","created_by":"petardjukic","updated_at":"2026-02-27T03:31:15Z","closed_at":"2026-02-27T03:31:15Z","close_reason":"Closed","dependencies":[{"issue_id":"cobbler-rrl.1","depends_on_id":"cobbler-rrl","type":"parent-child","created_at":"2026-02-26T22:29:44Z","created_by":"petardjukic","metadata":"{}"}],"comments":[{"id":47,"issue_id":"cobbler-rrl.1","author":"petardjukic","text":"tokens: 18000","created_at":"2026-02-27T03:31:15Z"}]}
{"id":"cobbler-sko","title":"GH-52: Measure agent re-proposes completed work across cycles","description":"The measure agent repeatedly re-proposes work that was already completed by the stitch agent in prior cycles. Three factors compound: (1) measure prompt lacks closed-issue semantics, (2) ARCHITECTURE.yaml prose overrides source code evidence, (3) enforce_measure_validation: false removes the safety net. Fix by adding completed-work summary to context and strengthening deduplication constraints in measure prompt.\n\nGitHub: petar-djukic/cobbler-scaffold#52","status":"closed","priority":2,"issue_type":"epic","owner":"petar.djukic@gmail.com","created_at":"2026-02-26T19:34:28Z","created_by":"petardjukic","updated_at":"2026-02-26T19:38:25Z","closed_at":"2026-02-26T19:38:25Z","close_reason":"All children completed"}
{"id":"cobbler-sko.1","title":"Add completed-work summary to measure prompt and strengthen deduplication constraints","description":"deliverable_type: code\n\nrequired_reading:\n  - pkg/orchestrator/prompts/measure.yaml (current measure prompt constraints)\n  - pkg/orchestrator/measure.go (getExistingIssues, buildMeasurePrompt)\n  - pkg/orchestrator/commands.go (bdListClosedTasks)\n  - pkg/orchestrator/context.go (ProjectContext, ContextIssue, buildProjectContext)\n\nfiles:\n  - path: pkg/orchestrator/prompts/measure.yaml\n    action: modify\n    note: Add closed-issue deduplication constraints\n  - path: pkg/orchestrator/measure.go\n    action: modify\n    note: Build completed-work summary from bdListClosedTasks\n  - path: pkg/orchestrator/context.go\n    action: modify\n    note: Add CompletedWork field to ProjectContext\n\nrequirements:\n  - id: R1\n    text: Add CompletedWork []string field to ProjectContext summarizing closed issues\n  - id: R2\n    text: Populate CompletedWork in buildMeasurePrompt from bdListClosedTasks()\n  - id: R3\n    text: Update measure.yaml constraints with explicit closed-issue semantics\n  - id: R4\n    text: Add constraint about checking source_code for existing implementations\n\nacceptance_criteria:\n  - id: AC1\n    text: MeasurePrompt output includes completed_work section when closed issues exist\n  - id: AC2\n    text: Constraints contain explicit closed-issue deduplication guidance\n  - id: AC3\n    text: Existing tests pass","status":"closed","priority":2,"issue_type":"task","owner":"petar.djukic@gmail.com","created_at":"2026-02-26T19:34:36Z","created_by":"petardjukic","updated_at":"2026-02-26T19:36:17Z","closed_at":"2026-02-26T19:36:17Z","close_reason":"Closed","dependencies":[{"issue_id":"cobbler-sko.1","depends_on_id":"cobbler-sko","type":"parent-child","created_at":"2026-02-26T14:34:36Z","created_by":"petardjukic","metadata":"{}"}],"comments":[{"id":25,"issue_id":"cobbler-sko.1","author":"petardjukic","text":"tokens: 30000","created_at":"2026-02-26T19:36:17Z"}]}
{"id":"cobbler-sko.2","title":"Add unit tests for completed-work deduplication","description":"deliverable_type: code\n\nrequired_reading:\n  - pkg/orchestrator/measure.go (buildMeasurePrompt, getCompletedWork)\n  - pkg/orchestrator/context.go (ProjectContext.CompletedWork)\n  - pkg/orchestrator/prompt_test.go (existing prompt tests)\n\nfiles:\n  - path: pkg/orchestrator/measure_test.go\n    action: modify\n    note: Tests for completed-work assembly and prompt inclusion\n\nrequirements:\n  - id: R1\n    text: Test buildMeasurePrompt includes completed_work when closed tasks exist\n  - id: R2\n    text: Test CompletedWork is empty when no closed tasks exist\n  - id: R3\n    text: Test measure prompt constraints contain closed-issue dedup language\n\nacceptance_criteria:\n  - id: AC1\n    text: All new tests pass\n  - id: AC2\n    text: Full test suite passes","status":"closed","priority":2,"issue_type":"task","owner":"petar.djukic@gmail.com","created_at":"2026-02-26T19:34:42Z","created_by":"petardjukic","updated_at":"2026-02-26T19:38:09Z","closed_at":"2026-02-26T19:38:09Z","close_reason":"Closed","dependencies":[{"issue_id":"cobbler-sko.2","depends_on_id":"cobbler-sko","type":"parent-child","created_at":"2026-02-26T14:34:41Z","created_by":"petardjukic","metadata":"{}"}],"comments":[{"id":26,"issue_id":"cobbler-sko.2","author":"petardjukic","text":"tokens: 15000","created_at":"2026-02-26T19:38:08Z"}]}
{"id":"cobbler-ujj","title":"GH-60: Add title and content fields to constitution YAML section tags","description":"## Description\n\nConstitution YAML files currently use a flat top-level key structure (articles, coding_standards, etc.). We want to add a sections list at the top level so that tag remains the identifier, with title and content as child fields. This enables straightforward YAML-to-markdown conversion and supports a VS Code markdown preview workflow.\n\n## Proposed structure\n\nsections:\n  - tag: articles\n    title: \"Articles\"\n    content: |\n      Summary of the articles section...\n  - tag: coding_standards\n    title: \"Coding Standards\"\n    content: |\n      Summary of coding standards...\n\n## Motivation\n\n- Enables straightforward conversion from YAML to markdown (each section becomes a headed markdown block).\n- Supports a preview workflow where constitution YAML can be rendered in markdown viewers.\n\n## Acceptance Criteria\n\n- Every section entry in constitution YAML files has tag, title, and content fields.\n- Existing tag values are preserved unchanged.\n- title contains a human-readable heading for the section.\n- content contains the section body text.\n- A converter or script can produce valid markdown from the updated YAML structure.\n- Existing tooling that reads constitution YAML is updated to handle the new schema.\n\nGitHub: petar-djukic/cobbler-scaffold#60","status":"closed","priority":2,"issue_type":"epic","owner":"petar.djukic@gmail.com","created_at":"2026-02-27T02:00:57Z","created_by":"petardjukic","updated_at":"2026-02-27T02:16:41Z","closed_at":"2026-02-27T02:16:41Z","close_reason":"All children completed"}
{"id":"cobbler-ujj.1","title":"GH-60.1: Add Sections []ConstitutionSection field to Go constitution doc types","description":"deliverable_type: code\nrequired_reading:\n  - pkg/orchestrator/context.go (all constitution Doc types: DesignDoc, ExecutionDoc, GoStyleDoc, PlanningDoc, TestingDoc, IssueFormatDoc)\n  - pkg/orchestrator/analyze.go (validateYAMLStrict calls for constitution files)\n  - docs/engineering/eng01-generation-workflow.yaml (existing sections pattern for reference)\nfiles:\n  - path: pkg/orchestrator/context.go\n    action: modify\nrequirements:\n  - id: R1\n    text: Add exported ConstitutionSection struct with Tag string, Title string, Content string fields and YAML tags tag, title, content\n  - id: R2\n    text: Add optional Sections []ConstitutionSection field (yaml tag sections,omitempty) to all six constitution doc types DesignDoc, ExecutionDoc, GoStyleDoc, PlanningDoc, TestingDoc, IssueFormatDoc\n  - id: R3\n    text: Existing fields on each doc type are unchanged; Sections is additive only\nacceptance_criteria:\n  - id: AC1\n    text: mage analyze passes with no schema errors after the struct change\n  - id: AC2\n    text: ConstitutionSection is exported and has Tag, Title, Content string fields\n  - id: AC3\n    text: All six doc types compile with the new Sections field","status":"closed","priority":2,"issue_type":"task","owner":"petar.djukic@gmail.com","created_at":"2026-02-27T02:01:07Z","created_by":"petardjukic","updated_at":"2026-02-27T02:08:43Z","closed_at":"2026-02-27T02:08:43Z","close_reason":"Closed","dependencies":[{"issue_id":"cobbler-ujj.1","depends_on_id":"cobbler-ujj","type":"parent-child","created_at":"2026-02-26T21:01:07Z","created_by":"petardjukic","metadata":"{}"}],"comments":[{"id":36,"issue_id":"cobbler-ujj.1","author":"petardjukic","text":"tokens: 28000","created_at":"2026-02-27T02:08:42Z"}]}
{"id":"cobbler-ujj.2","title":"GH-60.2: Populate sections list in all constitution YAML files","description":"deliverable_type: code\nrequired_reading:\n  - pkg/orchestrator/constitutions/design.yaml\n  - pkg/orchestrator/constitutions/execution.yaml\n  - pkg/orchestrator/constitutions/go-style.yaml\n  - pkg/orchestrator/constitutions/issue-format.yaml\n  - pkg/orchestrator/constitutions/planning.yaml\n  - pkg/orchestrator/constitutions/testing.yaml\n  - docs/engineering/eng01-generation-workflow.yaml (sections format reference)\nfiles:\n  - path: pkg/orchestrator/constitutions/design.yaml\n    action: modify\n  - path: pkg/orchestrator/constitutions/execution.yaml\n    action: modify\n  - path: pkg/orchestrator/constitutions/go-style.yaml\n    action: modify\n  - path: pkg/orchestrator/constitutions/issue-format.yaml\n    action: modify\n  - path: pkg/orchestrator/constitutions/planning.yaml\n    action: modify\n  - path: pkg/orchestrator/constitutions/testing.yaml\n    action: modify\n  - path: docs/constitutions/design.yaml\n    action: modify\n  - path: docs/constitutions/execution.yaml\n    action: modify\n  - path: docs/constitutions/go-style.yaml\n    action: modify\n  - path: docs/constitutions/planning.yaml\n    action: modify\n  - path: docs/constitutions/testing.yaml\n    action: modify\ndesign_decisions:\n  - id: D1\n    text: The sections list is additive. Existing top-level keys remain unchanged. Each section entry mirrors one top-level key, with tag matching the key name, title as a human-readable heading, and content as a concise summary (1-4 sentences).\n  - id: D2\n    text: pkg/ and docs/ copies of shared constitution files must remain identical after edits. Issue-format.yaml exists only in pkg/ and has no docs/ counterpart.\nrequirements:\n  - id: R1\n    text: Every constitution file has a top-level sections list\n  - id: R2\n    text: Each entry in sections has tag, title, and content fields\n  - id: R3\n    text: tag values match the corresponding top-level key name (e.g. articles, coding_standards)\n  - id: R4\n    text: title is a human-readable heading suitable for a markdown heading\n  - id: R5\n    text: content is a concise prose summary of the section (1-4 sentences)\n  - id: R6\n    text: pkg/ and docs/ copies are kept in sync (mage analyze drift check passes)\nacceptance_criteria:\n  - id: AC1\n    text: mage analyze passes with no drift and no schema errors\n  - id: AC2\n    text: Every constitution file in both directories has a non-empty sections list","status":"closed","priority":2,"issue_type":"task","owner":"petar.djukic@gmail.com","created_at":"2026-02-27T02:01:18Z","created_by":"petardjukic","updated_at":"2026-02-27T02:11:56Z","closed_at":"2026-02-27T02:11:56Z","close_reason":"Closed","dependencies":[{"issue_id":"cobbler-ujj.2","depends_on_id":"cobbler-ujj","type":"parent-child","created_at":"2026-02-26T21:01:18Z","created_by":"petardjukic","metadata":"{}"}],"comments":[{"id":37,"issue_id":"cobbler-ujj.2","author":"petardjukic","text":"tokens: 35000","created_at":"2026-02-27T02:11:55Z"}]}
{"id":"cobbler-ujj.3","title":"GH-60.3: Implement ConstitutionToMarkdown converter and mage constitution:preview command","description":"deliverable_type: code\nrequired_reading:\n  - pkg/orchestrator/context.go (ConstitutionSection struct, all Doc types)\n  - pkg/orchestrator/cobbler.go (pattern for loading YAML files from disk)\n  - magefiles/orchestrator.go (existing mage target patterns)\nfiles:\n  - path: pkg/orchestrator/constitution_md.go\n    action: create\n  - path: pkg/orchestrator/constitution_md_test.go\n    action: create\n  - path: magefiles/orchestrator.go\n    action: modify\nrequirements:\n  - id: R1\n    text: ConstitutionToMarkdown(sections []ConstitutionSection) string returns a markdown string where each section becomes ## {title} followed by a blank line then {content} and a trailing blank line\n  - id: R2\n    text: mage constitution:preview \u003cfile\u003e reads the given constitution YAML path, extracts its sections field, and prints the markdown to stdout\n  - id: R3\n    text: If sections is empty or the file has no sections field, print a warning to stderr and exit non-zero\n  - id: R4\n    text: The converter is covered by a unit test TestConstitutionToMarkdown in constitution_md_test.go\nacceptance_criteria:\n  - id: AC1\n    text: go test ./pkg/orchestrator/ -run TestConstitutionToMarkdown passes\n  - id: AC2\n    text: mage constitution:preview pkg/orchestrator/constitutions/execution.yaml prints valid markdown with one heading per section\n  - id: AC3\n    text: mage analyze passes","status":"closed","priority":2,"issue_type":"task","owner":"petar.djukic@gmail.com","created_at":"2026-02-27T02:01:28Z","created_by":"petardjukic","updated_at":"2026-02-27T02:16:39Z","closed_at":"2026-02-27T02:16:39Z","close_reason":"Closed","dependencies":[{"issue_id":"cobbler-ujj.3","depends_on_id":"cobbler-ujj","type":"parent-child","created_at":"2026-02-26T21:01:27Z","created_by":"petardjukic","metadata":"{}"}],"comments":[{"id":38,"issue_id":"cobbler-ujj.3","author":"petardjukic","text":"tokens: 42000","created_at":"2026-02-27T02:16:38Z"}]}
{"id":"cobbler-umb","title":"GH-59: Recurring: Full requirements coverage, test coverage, and code inspection audit","description":"Comprehensive audit covering requirements traceability, test coverage, and code quality.\n\nGitHub: petar-djukic/cobbler-scaffold#59","status":"closed","priority":2,"issue_type":"epic","owner":"petar.djukic@gmail.com","created_at":"2026-02-27T00:52:24Z","created_by":"petardjukic","updated_at":"2026-02-27T00:57:17Z","closed_at":"2026-02-27T00:57:17Z","close_reason":"All children completed"}
{"id":"cobbler-umb.1","title":"Run go mod tidy to remove unused dependencies","description":"Required reading: go.mod, go.sum\n\nFiles to modify:\n- go.mod\n- go.sum\n\nRequirements:\n- R1: Run go mod tidy to remove cobra, pflag, and mousetrap indirect dependencies that have no imports in the codebase\n- R2: Verify go build ./... succeeds after tidy\n- R3: Verify go test ./pkg/... passes after tidy\n\nAcceptance Criteria:\n- AC1: go.mod no longer lists github.com/spf13/cobra, github.com/spf13/pflag, github.com/inconshreveable/mousetrap\n- AC2: go build ./... and go test ./pkg/... both pass","status":"closed","priority":2,"issue_type":"task","owner":"petar.djukic@gmail.com","created_at":"2026-02-27T00:52:31Z","created_by":"petardjukic","updated_at":"2026-02-27T00:53:28Z","closed_at":"2026-02-27T00:53:28Z","close_reason":"Closed","dependencies":[{"issue_id":"cobbler-umb.1","depends_on_id":"cobbler-umb","type":"parent-child","created_at":"2026-02-26T19:52:31Z","created_by":"petardjukic","metadata":"{}"}],"comments":[{"id":32,"issue_id":"cobbler-umb.1","author":"petardjukic","text":"Removed cobra, pflag, mousetrap via go mod tidy. Build and tests pass. tokens: 5000","created_at":"2026-02-27T00:53:27Z"}]}
{"id":"cobbler-umb.2","title":"Add unit tests for pure and low-dep functions","description":"Required reading:\n- pkg/orchestrator/orchestrator.go (Config, NewFromFile, setGeneration, clearGeneration, setPhase, clearPhase)\n- pkg/orchestrator/cobbler.go (buildPodmanCmd)\n- pkg/orchestrator/prompt.go (validatePromptTemplate)\n- pkg/orchestrator/precycle.go (writeAnalysisDoc)\n\nFiles to create/modify:\n- pkg/orchestrator/orchestrator_test.go (new)\n- pkg/orchestrator/cobbler_test.go (add buildPodmanCmd tests)\n- pkg/orchestrator/prompt_test.go (add validatePromptTemplate tests)\n- pkg/orchestrator/precycle_test.go (add writeAnalysisDoc error path tests)\n\nRequirements:\n- R1: Test Config() returns a copy of the configured values\n- R2: Test NewFromFile reads a valid YAML config file and applies defaults\n- R3: Test setGeneration/clearGeneration and setPhase/clearPhase with mutex safety\n- R4: Test buildPodmanCmd constructs correct podman args (mount, workdir, image)\n- R5: Test validatePromptTemplate returns nil for missing file, errors for invalid YAML\n- R6: Test writeAnalysisDoc returns error when MkdirAll fails (read-only path)\n\nAcceptance Criteria:\n- AC1: Coverage \u003e= 34%\n- AC2: All new tests pass with go test ./pkg/...","status":"closed","priority":2,"issue_type":"task","owner":"petar.djukic@gmail.com","created_at":"2026-02-27T00:52:41Z","created_by":"petardjukic","updated_at":"2026-02-27T00:56:19Z","closed_at":"2026-02-27T00:56:19Z","close_reason":"Closed","dependencies":[{"issue_id":"cobbler-umb.2","depends_on_id":"cobbler-umb","type":"parent-child","created_at":"2026-02-26T19:52:41Z","created_by":"petardjukic","metadata":"{}"}],"comments":[{"id":33,"issue_id":"cobbler-umb.2","author":"petardjukic","text":"Added 17 new tests: orchestrator_test.go (11), cobbler_test.go (+3 buildPodmanCmd), prompt_test.go (+3 validatePromptTemplate). Coverage 32.7% -\u003e 34.0%. tokens: 20000","created_at":"2026-02-27T00:56:19Z"}]}
{"id":"cobbler-umb.3","title":"Write audit report","description":"Required reading:\n- docs/audits/audit-2026-02-26-coverage-inspection.yaml (previous audit format)\n- go test -cover output\n- bd list output\n\nFiles to create:\n- docs/audits/audit-2026-02-26b-coverage-inspection.yaml\n\nRequirements:\n- R1: Document coverage trend (32.7% baseline, final after new tests)\n- R2: Document all findings: unused deps, newly tested functions, untested critical paths\n- R3: List recommendations for next audit\n\nAcceptance Criteria:\n- AC1: Report written in same format as previous audits\n- AC2: File committed","status":"closed","priority":2,"issue_type":"task","owner":"petar.djukic@gmail.com","created_at":"2026-02-27T00:52:47Z","created_by":"petardjukic","updated_at":"2026-02-27T00:57:09Z","closed_at":"2026-02-27T00:57:09Z","close_reason":"Closed","dependencies":[{"issue_id":"cobbler-umb.3","depends_on_id":"cobbler-umb","type":"parent-child","created_at":"2026-02-26T19:52:46Z","created_by":"petardjukic","metadata":"{}"}],"comments":[{"id":34,"issue_id":"cobbler-umb.3","author":"petardjukic","text":"Audit report written. tokens: 5000","created_at":"2026-02-27T00:57:09Z"}]}
{"id":"cobbler-y8f","title":"GH-45: Run mage test:usecase and fix failures","description":"Run the use case test suite, identify failures, and fix them. Recurring task.\n\nGitHub: petar-djukic/cobbler-scaffold#45","status":"closed","priority":2,"issue_type":"epic","owner":"petar.djukic@gmail.com","created_at":"2026-02-27T00:36:21Z","created_by":"petardjukic","updated_at":"2026-02-27T00:41:21Z","closed_at":"2026-02-27T00:41:21Z","close_reason":"All children completed"}
{"id":"cobbler-y8f.1","title":"Run test:usecase and triage failures","description":"Required reading: docs/specs/test-suites/, pkg/orchestrator/\n\nRequirements:\n- Run mage test:usecase and record full output\n- Record total test cases, pass/fail counts\n- Triage each failure: regression, known issue, or new bug\n\nAcceptance Criteria:\n- Test results recorded with pass/fail counts\n- Each failure categorized with root cause identified","status":"closed","priority":2,"issue_type":"task","owner":"petar.djukic@gmail.com","created_at":"2026-02-27T00:36:26Z","created_by":"petardjukic","updated_at":"2026-02-27T00:41:08Z","closed_at":"2026-02-27T00:41:08Z","close_reason":"Closed","dependencies":[{"issue_id":"cobbler-y8f.1","depends_on_id":"cobbler-y8f","type":"parent-child","created_at":"2026-02-26T19:36:26Z","created_by":"petardjukic","metadata":"{}"}],"comments":[{"id":30,"issue_id":"cobbler-y8f.1","author":"petardjukic","text":"Results: 65 pass, 0 fail, 1 skip (e2e FullPipeline requires credentials). tokens: 15000","created_at":"2026-02-27T00:41:08Z"}]}
{"id":"cobbler-y8f.2","title":"Fix failures and report","description":"Required reading: Failing test output, relevant source files in pkg/orchestrator/\n\nRequirements:\n- Fix regressions and new bugs found in cobbler-y8f.1\n- Re-run mage test:usecase to confirm all fixes\n- File GitHub issues for any non-trivial deferred fixes\n\nAcceptance Criteria:\n- All tests pass or remaining failures have tracked GitHub issues\n- Final pass rate recorded","status":"closed","priority":2,"issue_type":"task","owner":"petar.djukic@gmail.com","created_at":"2026-02-27T00:36:31Z","created_by":"petardjukic","updated_at":"2026-02-27T00:41:14Z","closed_at":"2026-02-27T00:41:14Z","close_reason":"Closed","dependencies":[{"issue_id":"cobbler-y8f.2","depends_on_id":"cobbler-y8f","type":"parent-child","created_at":"2026-02-26T19:36:30Z","created_by":"petardjukic","metadata":"{}"}],"comments":[{"id":31,"issue_id":"cobbler-y8f.2","author":"petardjukic","text":"No failures to fix. 65/65 pass. tokens: 0","created_at":"2026-02-27T00:41:13Z"}]}
